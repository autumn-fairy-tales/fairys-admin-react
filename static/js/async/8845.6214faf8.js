"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["8845"],{1410:function(e,a,n){n.r(a),n.d(a,{default:()=>i});var t=n(4246),s=n(980);function c(e){let a=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",h2:"h2",pre:"pre"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.h1,{id:"accountdatainstance-账号信息",children:[(0,t.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#accountdatainstance-账号信息",children:"#"}),"accountDataInstance 账号信息"]}),"\n",(0,t.jsxs)(a.div,{className:"rspress-directive tip",children:[(0,t.jsx)(a.div,{className:"rspress-directive-title",children:"提示"}),(0,t.jsx)(a.div,{className:"rspress-directive-content",children:(0,t.jsx)(a.p,{children:"用于存储当前登录用户的账号信息，包括用户名、用户头像、用户邮箱、用户手机号、用户角色等。"})})]}),"\n",(0,t.jsxs)(a.div,{className:"rspress-directive warning",children:[(0,t.jsx)(a.div,{className:"rspress-directive-title",children:"注意"}),(0,t.jsx)(a.div,{className:"rspress-directive-content",children:(0,t.jsxs)(a.p,{children:["建议在渲染",(0,t.jsx)(a.code,{children:"Layout"}),"和",(0,t.jsx)(a.code,{children:"FairysRoot"}),"组件之前，设置状态值"]})})]}),"\n",(0,t.jsxs)(a.h2,{id:"引入",children:[(0,t.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#引入",children:"#"}),"引入"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ts",children:"import { accountDataInstance , useAccountDataInstance } from '@fairys/admin-tools-react';\n"})}),"\n",(0,t.jsxs)(a.h2,{id:"状态值",children:[(0,t.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#状态值",children:"#"}),"状态值"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ts",children:"interface AccountDataState {\n  /**用户名*/\n  userName?: string;\n  /**用户头像*/\n  userAvatar?: string;\n  /**用户邮箱*/\n  userEmail?: string;\n  /**用户手机号*/\n  userPhone?: string;\n  /**用户角色*/\n  userRole?: string;\n  /**其他自定义信息*/\n  info?: Record<string, any>;\n}\n"})}),"\n",(0,t.jsxs)(a.h2,{id:"实体类",children:[(0,t.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#实体类",children:"#"}),"实体类"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ts",children:"export class AccountDataInstance {\n    state: AccountDataState;\n    /**更新数据信息*/\n    updated: (state: AccountDataState) => void;\n    /**清空账户数据*/\n    clear: () => void;\n}\n"})}),"\n",(0,t.jsxs)(a.h2,{id:"hooks",children:[(0,t.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#hooks",children:"#"}),"hooks"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ts",children:'export  const useAccountDataInstance: () => [AccountDataState, AccountDataInstance, AccountDataState["__defaultValue"]];\n'})}),"\n",(0,t.jsxs)(a.h2,{id:"示例",children:[(0,t.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ts",meta:"title='使用 accountDataInstance 更新账户数据'",children:"import { accountDataInstance } from '@fairys/admin-tools-react';\n\naccountDataInstance.updated({\n  userName: '张三',\n  userAvatar: 'https://example.com/avatar.jpg',\n  userEmail: 'zhangsan@example.com',\n  userPhone: '13800000000',\n  userRole: 'admin',\n});\n\n"})}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ts",meta:"title='使用 useAccountDataInstance 获取账户数据'",children:"import { useAccountDataInstance } from '@fairys/admin-tools-react';\nimport { useEffect } from 'react';\n\nconst Demo = ()=>{\n  const [accountData, accountDataInstance] = useAccountDataInstance();\n\n  useEffect(()=>{\n    accountDataInstance.updated({\n      userName: '李四',\n      userAvatar: 'https://example.com/avatar.jpg',\n      userEmail: 'lisi@example.com',\n      userPhone: '13800000000',\n      userRole: 'user',\n    });\n  },[accountData])\n\n  return (\n    <div>\n      <p>用户名：{accountData.userName}</p>\n      <p>用户头像：{accountData.userAvatar}</p>\n      <p>用户邮箱：{accountData.userEmail}</p>\n      <p>用户手机号：{accountData.userPhone}</p>\n      <p>用户角色：{accountData.userRole}</p>\n    </div>\n  );\n}\nexport default Demo;\n\n"})})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:a}=Object.assign({},(0,s.ah)(),e.components);return a?(0,t.jsx)(a,Object.assign({},e,{children:(0,t.jsx)(c,e)})):c(e)}let i=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["zh%2Fcontext%2FaccountDataInstance.md"]={toc:[{id:"引入",text:"引入",depth:2},{id:"状态值",text:"状态值",depth:2},{id:"实体类",text:"实体类",depth:2},{id:"hooks",text:"hooks",depth:2},{id:"示例",text:"示例",depth:2}],title:"accountDataInstance 账号信息",headingTitle:"accountDataInstance 账号信息",frontmatter:{}}}}]);