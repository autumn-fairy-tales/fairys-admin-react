"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["2802"],{5578:function(e,n,t){t.r(n),t.d(n,{default:()=>o});var a=t(4246),s=t(980);function i(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",h2:"h2",pre:"pre"},(0,s.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"settingdatainstance-设置数据",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#settingdatainstance-设置数据",children:"#"}),"settingDataInstance 设置数据"]}),"\n",(0,a.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,a.jsx)(n.div,{className:"rspress-directive-title",children:"提示"}),(0,a.jsx)(n.div,{className:"rspress-directive-content",children:(0,a.jsx)(n.p,{children:"用于存储当前应用的设置数据，包括导航栏模式、侧边栏模式、页面切换动画、标签栏等。"})})]}),"\n",(0,a.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,a.jsx)(n.div,{className:"rspress-directive-title",children:"注意"}),(0,a.jsx)(n.div,{className:"rspress-directive-content",children:(0,a.jsxs)(n.p,{children:["如果需要设置初始值，请在渲染",(0,a.jsx)(n.code,{children:"Layout"}),"和",(0,a.jsx)(n.code,{children:"FairysRoot"}),"组件之前，调用",(0,a.jsx)(n.code,{children:"ctor"}),"方法初始化设置数据"]})})]}),"\n",(0,a.jsxs)(n.h2,{id:"引入",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引入",children:"#"}),"引入"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import { settingDataInstance , useSettingDataInstance } from '@fairys/admin-tools-react';\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"状态值",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#状态值",children:"#"}),"状态值"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"/**\n * 1. main_sub_left:左侧主菜单 + 子菜单 + 无头部信息\n * 2. main_left:左侧主菜单 + 移入子菜单展示 + 无头部信息\n * // 3. main_left_sub_all:左侧主菜单 + 移入子菜单展示所有  + 无头部信息\n * 4. main_top_header:顶部菜单 +  移入子菜单展示 + 有头部信息\n * // 5. main_top_sub_all_header:顶部菜单 +  移入子菜单展示所有 + 有头部信息\n * 6. main_top_sub_left_header:顶部主菜单 + 侧边子菜单 + 有头部信息\n * 7. left:不区分主子菜单并且左侧显示 + 无头部信息(用户信息一起移入左侧显示)\n * 8. left_header:不区分主子菜单并且左侧显示 + 有头部信息\n * 9. mobile:移动端布局,不进行区分主子菜单，使用弹框展示，布局使用 `left` 布局\n */\nexport type LayoutMode = 'main_sub_left' | 'main_left' | 'main_top_header' | 'main_top_sub_left_header' | 'left' | 'left_header' | 'mobile';\nexport interface SettingDataInstanceState {\n     /**是否打开偏好设置*/\n  open?: boolean;\n  /**logo加载地址*/\n  logo?: string;\n  /**项目名*/\n  projectName?: string;\n  /**颜色主题风格*/\n  theme?: 'dark' | 'light';\n  /**自动监听系统的明暗色系*/\n  autoListenSystemTheme?: boolean;\n  /**主题颜色*/\n  themeColor?: string;\n  /**导航栏模式*/\n  layoutMode?: LayoutMode;\n  /**旧的导航栏模式,(用于切换mobile布局时，切换回旧的布局模式)*/\n  _oldLayoutMode?: LayoutMode;\n  /**暗黑导航栏*/\n  darkMenu?: boolean;\n  /**侧边栏模式*/\n  sideMenuMode?: 'open' | 'close';\n  /**页面切换动画*/\n  pageTransitionMode?: '无动画' | '滑动' | '缩放消退' | '闪现' | '淡入淡出' | string;\n  /**是否启用收藏夹*/\n  enableToolBarFavorites?: boolean;\n  /**收藏夹最多可存储多少个*/\n  favoritesMaxLength?: number;\n  /**通知中心*/\n  enableToolBarNotification?: boolean;\n  /**全屏*/\n  enableToolBarFullScreen?: boolean;\n  isFullScreen?: boolean;\n  /**页面刷新*/\n  enableToolBarRefresh?: boolean;\n  /**\n   * 判断屏幕宽度是否是移动端布局\n   * @default 1024\n   */\n  maxWidthScreen?: number;\n  /**是否移动布局*/\n  isMobile?: boolean;\n}\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"实体类",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#实体类",children:"#"}),"实体类"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'export declare class SettingDataInstance {\n    static localStorageKey: string;\n    state: SettingDataInstanceState;\n    constructor();\n    /**初始配置*/\n    ctor: (state: SettingDataInstanceState) => void;\n    /**监听系统主题变化*/\n    mediaQueryList: MediaQueryList | null;\n    /**更新文档和body的主题*/\n    setDocumentAndBodyTheme: () => void;\n    /**监听事件更新系统主题*/\n    onListenChangeSystemTheme: (e: MediaQueryListEvent) => void;\n    /**自动监听系统的明暗色系*/\n    autoListenSystemTheme: () => void;\n    /**切换自动监听系统的明暗色系*/\n    onToggleAutoListenSystemTheme: (autoListenSystemTheme: boolean) => void;\n    /**点击设置切换主题*/\n    onToggleTheme: (theme: "light" | "dark" | "system") => void;\n    /**更新主题颜色*/\n    updatedThemeColor: (themeColor: string) => void;\n    /**更新配置*/\n    updated: (state: SettingDataInstanceState) => void;\n    /**切换打开偏好设置*/\n    onToggleOpen: () => void;\n    /**全屏监听*/\n    onFullscreenChange: () => void;\n    addEventListenerFullscreenChange: () => () => void;\n    /**全屏*/\n    onToggleFullScreen: () => Promise<void>;\n    /**监听屏幕变化，用于控制菜单布局*/\n    mediaQueryListScreen: MediaQueryList | null;\n    /**监听屏幕变化，用于控制菜单布局*/\n    onListenChangeScreen: (e: MediaQueryListEvent) => void;\n    /**自动监听屏幕变化，用于控制菜单布局*/\n    autoListenScreen: () => () => void;\n    /**清空*/\n    clear: () => void;\n}\n'})}),"\n",(0,a.jsxs)(n.h2,{id:"hooks",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hooks",children:"#"}),"hooks"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"export const useSettingDataInstance: () => [SettingDataInstanceState, SettingDataInstance, string | undefined];\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"示例",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",meta:"title='初始属性值'",children:"import { settingDataInstance } from '@fairys/admin-tools-react';\n// 设置项目名\nsettingDataInstance.updated({ \n  projectName: 'Fairys Admin',\n  themeColor: '#af52de',\n});\n"})})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(i,e)})):i(e)}let o=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["zh%2Fcontext%2FsettingDataInstance.md"]={toc:[{id:"引入",text:"引入",depth:2},{id:"状态值",text:"状态值",depth:2},{id:"实体类",text:"实体类",depth:2},{id:"hooks",text:"hooks",depth:2},{id:"示例",text:"示例",depth:2}],title:"settingDataInstance 设置数据",headingTitle:"settingDataInstance 设置数据",frontmatter:{}}}}]);