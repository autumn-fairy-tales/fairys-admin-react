"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["313"],{5922:function(e,t,r){r.r(t),r.d(t,{default:()=>i});var a=r(4246),n=r(980);function s(e){let t=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",h2:"h2",pre:"pre"},(0,n.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.h1,{id:"routerdatainstance-路由数据",children:[(0,a.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#routerdatainstance-路由数据",children:"#"}),"routerDataInstance 路由数据"]}),"\n",(0,a.jsxs)(t.div,{className:"rspress-directive tip",children:[(0,a.jsx)(t.div,{className:"rspress-directive-title",children:"提示"}),(0,a.jsx)(t.div,{className:"rspress-directive-content",children:(0,a.jsx)(t.p,{children:"用于存储当前应用的路由数据，包括路由配置、路由跳转方法等。"})})]}),"\n",(0,a.jsxs)(t.div,{className:"rspress-directive warning",children:[(0,a.jsx)(t.div,{className:"rspress-directive-title",children:"注意"}),(0,a.jsxs)(t.div,{className:"rspress-directive-content",children:[(0,a.jsxs)(t.p,{children:["请在渲染",(0,a.jsx)(t.code,{children:"Layout"}),"和",(0,a.jsx)(t.code,{children:"FairysRoot"}),"组件之前，调用",(0,a.jsx)(t.code,{children:"createBrowserRouter"}),"或",(0,a.jsx)(t.code,{children:"createMemoryRouter"}),"或",(0,a.jsx)(t.code,{children:"createHashRouter"}),"方法初始化路由"]}),(0,a.jsxs)(t.p,{children:["在项目中跳转时，建议使用",(0,a.jsx)(t.code,{children:"navigate"}),"方法，而不是直接调用",(0,a.jsx)(t.code,{children:"router"}),"的",(0,a.jsx)(t.code,{children:"useNavigate"}),"方法，因为",(0,a.jsx)(t.code,{children:"navigate"}),"方法会触发",(0,a.jsx)(t.code,{children:"onNavigateBefore"}),"回调，而直接调用",(0,a.jsx)(t.code,{children:"router"}),"的",(0,a.jsx)(t.code,{children:"useNavigate"}),"方法不会触发回调。"]})]})]}),"\n",(0,a.jsxs)(t.h2,{id:"引入",children:[(0,a.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#引入",children:"#"}),"引入"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",children:"import { routerDataInstance } from '@fairys/admin-tools-react';\n"})}),"\n",(0,a.jsxs)(t.h2,{id:"实体类",children:[(0,a.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#实体类",children:"#"}),"实体类"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",children:"import type { DataRouter, NavigateFunction, To, NavigateOptions, RouteObject, DOMRouterOpts, MemoryRouterOpts } from 'react-router';\nexport class RouterDataInstance {\n    router: DataRouter | undefined;\n    /**跳转前回调*/\n    onNavigateBefore: (to: To, next: (to?: To, options?: NavigateOptions) => void) => Promise<boolean>;\n    /**内置跳转方法*/\n    navigate: (to: To | number, options?: NavigateOptions) => Promise<void>;\n    createBrowserRouter: (routes: RouteObject[], opts?: DOMRouterOpts) => DataRouter;\n    createMemoryRouter: (routes: RouteObject[], opts?: MemoryRouterOpts) => DataRouter;\n    createHashRouter: (routes: RouteObject[], opts?: DOMRouterOpts) => DataRouter;\n    /**清空tab项*/\n    clear: () => void;\n}\n"})}),"\n",(0,a.jsxs)(t.h2,{id:"示例",children:[(0,a.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",meta:"title='初始化路由'",children:"import { routerDataInstance } from '@fairys/admin-tools-react';\n// 初始化路由\nrouterDataInstance.createBrowserRouter([\n    {\n        path: '/',\n        element: <div>home</div>,\n    },\n]);\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",meta:"title='路由跳转'",children:"import { routerDataInstance } from '@fairys/admin-tools-react';\n// 路由跳转\nrouterDataInstance.navigate('/');\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",meta:"title='路由跳转前判断方法挂载'",children:"import { routerDataInstance } from '@fairys/admin-tools-react';\n// 路由跳转前判断方法挂载\nrouterDataInstance.onNavigateBefore = (to, next) => {\n    console.log(to);\n    next();\n};\n"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,n.ah)(),e.components);return t?(0,a.jsx)(t,Object.assign({},e,{children:(0,a.jsx)(s,e)})):s(e)}let i=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["zh%2Fcontext%2FrouterDataInstance.md"]={toc:[{id:"引入",text:"引入",depth:2},{id:"实体类",text:"实体类",depth:2},{id:"示例",text:"示例",depth:2}],title:"routerDataInstance 路由数据",headingTitle:"routerDataInstance 路由数据",frontmatter:{}}}}]);