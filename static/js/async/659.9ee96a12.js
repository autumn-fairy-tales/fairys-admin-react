"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["659"],{9218:function(e,t,a){a.d(t,{y$:()=>eK,hY:()=>eb,Jb:()=>ew,PO:()=>en,$r:()=>eS,Cf:()=>eg,$1:()=>er,mN:()=>ex,gb:()=>eQ,BW:()=>ea,eM:()=>ei,Mn:()=>es,KA:()=>eY,Jg:()=>eA,In:()=>ef,o3:()=>e_,ln:()=>ep,jc:()=>ev,$y:()=>Y,Rb:()=>T}),a(5894);var s=a(4246),r=a(2199);class i{state=(0,r.sj)({userName:"fairys"});updated=e=>{for(let t in e){let a=e[t];if("info"===t){let a=(0,r.iH)(e.info||{});this.state[t]=a}else this.state[t]=a}};clear=()=>{for(let e in this.state)this.state[e]=void 0,"userName"===e&&(this.state[e]="fairys")}}let n=new i;var o=a(6681);let l=new class{router=void 0;__navigate;onNavigateBefore;navigate=async(e,t)=>{let a=this.__navigate||this.router.navigate;if(!a)return console.warn("请先初始化路由"),Promise.resolve();if("number"==typeof e)return a?.(e);let s=!0;return(this.onNavigateBefore&&(s=await this.onNavigateBefore(e,(s=e,r=t)=>{null!==s&&a?.(s,r)})),s)?a?.(e,t):Promise.resolve()};createBrowserRouter=(e,t)=>{let a=(0,o.aj)(e,t);return this.__navigate=a.navigate,a.navigate=this.navigate,this.router=a,a};createMemoryRouter=(e,t)=>{let a=(0,o.bi)(e,t);return this.__navigate=a.navigate,a.navigate=this.navigate,this.router=a,a};createHashRouter=(e,t)=>{let a=(0,o.cP)(e,t);return this.__navigate=a.navigate,a.navigate=this.navigate,this.router=a,a};clear=()=>{}};class d{static localStorageKey="fairys_setting_state";state=(0,r.sj)({open:!1,layoutMode:"main_top_sub_left_header",_oldLayoutMode:"main_top_sub_left_header",pageTransitionMode:"滑动",autoListenSystemTheme:!0,sideMenuMode:"open",enableToolBarFavorites:!0,favoritesMaxLength:20,enableToolBarNotification:!0,enableToolBarFullScreen:!0,enableToolBarRefresh:!0,maxWidthScreen:1024,isMobile:!1});constructor(){let e=localStorage.getItem(d.localStorageKey);if(e)try{let t=JSON.parse(e);for(let e in t){let a=t[e];this.state[e]=a}}catch(e){console.log(e)}}ctor=(e={})=>{let t={layoutMode:"main_top_sub_left_header",...e,...this.state};t&&(t._oldLayoutMode=t.layoutMode),this.state=(0,r.sj)({...t,projectName:e.projectName,logo:e.logo}),this.state.themeColor&&(document.documentElement&&document.documentElement.setAttribute("style",`--fairys-theme-color:${this.state.themeColor}`),document.body&&document.body.setAttribute("style",`--fairys-theme-color:${this.state.themeColor}`)),this.autoListenSystemTheme()};mediaQueryList=null;setDocumentAndBodyTheme=()=>{let e=this.state.theme;e&&(document.documentElement&&(document.documentElement.classList.remove("dark"===e?"light":"dark"),document.documentElement.classList.add(e)),document.body&&(document.body.classList.remove("dark"===e?"light":"dark"),document.body.classList.add(e)))};onListenChangeSystemTheme=e=>{this.updated({theme:e.matches?"dark":"light"}),this.setDocumentAndBodyTheme()};autoListenSystemTheme=()=>{this.state.autoListenSystemTheme?(this.mediaQueryList?this.mediaQueryList.removeEventListener("change",this.onListenChangeSystemTheme):this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.updated({theme:this.mediaQueryList.matches?"dark":"light"}),this.setDocumentAndBodyTheme(),this.mediaQueryList.addEventListener("change",this.onListenChangeSystemTheme)):(this.mediaQueryList?.removeEventListener("change",this.onListenChangeSystemTheme),this.mediaQueryList=null,this.setDocumentAndBodyTheme())};onToggleAutoListenSystemTheme=e=>{this.updated({autoListenSystemTheme:e}),this.autoListenSystemTheme()};onToggleTheme=e=>{"system"===e?this.updated({autoListenSystemTheme:!0}):this.updated({theme:e,autoListenSystemTheme:!1}),this.autoListenSystemTheme()};updatedThemeColor=e=>{this.updated({themeColor:e}),e?document.body.setAttribute("style",`--fairys-theme-color:${e}`):document.body.removeAttribute("style")};updated=e=>{let t={};try{t=JSON.parse(localStorage.getItem(d.localStorageKey)||"{}")}catch(e){console.log(e)}for(let a in e){let s=e[a];this.state[a]=s,"open"!==a&&(t[a]=s),"layoutMode"===a&&(t._oldLayoutMode=this.state.layoutMode),"theme"===a&&this.setDocumentAndBodyTheme()}localStorage.setItem(d.localStorageKey,JSON.stringify(t))};isMainSubMenuMode=()=>"main_sub_left"===this.state.layoutMode||"main_left"===this.state.layoutMode||"main_top_header"===this.state.layoutMode||"main_top_sub_left_header"===this.state.layoutMode;onToggleOpen=()=>{this.updated({open:!this.state.open})};onFullscreenChange=()=>{document.fullscreenElement?this.state.isFullScreen=!0:this.state.isFullScreen=!1};addEventListenerFullscreenChange=()=>(document.addEventListener("fullscreenchange",this.onFullscreenChange),()=>{document.removeEventListener("fullscreenchange",this.onFullscreenChange)});onToggleFullScreen=async()=>{try{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(e){console.log("onToggleFullScreen===>",e)}};mediaQueryListScreen=null;onListenChangeScreen=e=>{this.state.layoutMode=e.matches?"mobile":this.state._oldLayoutMode,this.state.isMobile=e.matches};autoListenScreen=()=>(this.state.maxWidthScreen&&(this.mediaQueryListScreen?this.mediaQueryListScreen.removeEventListener("change",this.onListenChangeScreen):this.mediaQueryListScreen=window.matchMedia(`(max-width: ${this.state.maxWidthScreen}px)`),this.state.layoutMode=this.mediaQueryListScreen.matches?"mobile":this.state._oldLayoutMode,this.state.isMobile=this.mediaQueryListScreen.matches,this.mediaQueryListScreen.addEventListener("change",this.onListenChangeScreen)),()=>{this.mediaQueryListScreen?.removeEventListener("change",this.onListenChangeScreen),this.mediaQueryListScreen=null});clear=()=>{}}let f=new d;var m=a(7378);let y=(e,t=[],a)=>{let s=[];for(let r=0;r<e.length;r++){let i=e[r];s.push(i),i.path&&a.set(i.path,[...t].concat(i)),Array.isArray(i.items)&&s.push(...y(i.items,[...t].concat(i),a))}return s},c=(e,t)=>{let a=e.length,s=t.length;return a===s||s>a?e:t.slice(0,s-1).map(e=>e.path).join("_")===e.slice(0,s-1).map(e=>e.path).join("_")?e:t};class h{_menuItems=[];_flatMenuItems=[];_parentMenuItemMap=new Map;state=(0,r.sj)({menuItems:[],mainMenuItems:[],mainMenuItemSelected:"",expandItems:[],mainExpandItem:void 0,searchMenuItems:[]});ctor=e=>{this._menuItems=e,this._flatMenuItems=y(e,[],this._parentMenuItemMap),this.state.menuItems=(0,r.iH)(e),this.state.mainMenuItems=(0,r.iH)(e.filter(e=>e.isMain)),this.state.searchMenuItems=(0,r.iH)([...this._flatMenuItems].filter(e=>!e.isMain));let t=this._flatMenuItems.filter(e=>e.isTabFixed&&!e.isMain);t.length&&g.ctor(t)};updateMainExpandItem=e=>{this.state.mainExpandItem=e};get_path_menuItem=e=>this._flatMenuItems.find(t=>t.path===e);onSearch=e=>{let t=`${e||""}`.trim();if(!t){this.state.searchMenuItems=(0,r.iH)([...this._flatMenuItems].filter(e=>!e.isMain));return}this.state.searchMenuItems=(0,r.iH)(this._flatMenuItems.filter(e=>!e.isMain).filter(e=>e.title.includes(t)))};isParentMenuItem=(e,t)=>{let a=this._parentMenuItemMap.get(t);return!!a&&!!a.find(t=>t.path===e)};clearExpandItems=()=>{this.state.expandItems=(0,r.iH)([])};onExpandItems=e=>{if(!this.get_path_menuItem(e))return;if(0===this.state.expandItems.length){let t=this._parentMenuItemMap.get(e)||[];this.state.expandItems=(0,r.iH)([...t]);return}let t=this.get_path_menuItem(e),a=this._parentMenuItemMap.get(e)||[];Array.isArray(t?.items)&&t.items.length?this.state.expandItems=(0,r.iH)([...a]):this.state.expandItems=c(this.state.expandItems,a)};onCollapseItems=e=>{this.state.expandItems=(0,r.iH)(this.state.expandItems.filter(t=>t.path!==e))};onToggleItems=e=>{this.state.expandItems.find(t=>t.path===e)?this.onCollapseItems(e):this.onExpandItems(e)};isExpand=e=>!!this.state.expandItems.find(t=>t.path===e);updateChildMenus=e=>{if(f.isMainSubMenuMode()){let t=this.state.mainMenuItemSelected,a=this._parentMenuItemMap.get(e),s=a?.[0]?.path;if(s&&s!==t){this.state.mainMenuItemSelected=s;let e=this.state.mainMenuItems.find(e=>e.path===s);e&&(this.state.menuItems=(0,r.iH)(e.items))}}};onMainMenu=e=>{let t=this.state.mainMenuItems.find(t=>t.path===e);t&&Array.isArray(t.items)&&(this.state.menuItems=(0,r.iH)(t.items),this.state.mainMenuItemSelected=e)};clear=()=>{this.state.menuItems=(0,r.iH)([]),this.state.mainMenuItems=(0,r.iH)([]),this.state.mainMenuItemSelected="",this.state.expandItems=(0,r.iH)([]),this.state.mainExpandItem=void 0,this.state.searchMenuItems=(0,r.iH)([])};onBeforeNavigate}let u=new h;class p{dom=(0,m.createRef)();menuItems=[];state=(0,r.sj)({menuModeExpandCollapse:"open"});setMenuModeExpandCollapse=e=>{this.state.menuModeExpandCollapse=e};register=e=>(this.menuItems.push(e),()=>{this.menuItems=this.menuItems.filter(t=>t!==e)});resizeObserverCallback=()=>{for(let e=0;e<this.menuItems.length;e++){let t=this.menuItems[e];t.isActive&&t.scrollIntoView()}};resizeObserver=()=>{let e=new ResizeObserver(this.resizeObserverCallback);return this.dom.current&&e.observe(this.dom.current),()=>{e.disconnect()}};addEventListener=()=>{let e=this.resizeObserver();return()=>{e()}}}(0,m.createContext)(new p);class x{state=(0,r.sj)({tabBarItems:[],dropDownTabBarItems:[],pageFullScreen:!1});ctor=e=>{this.state.tabBarItems=(0,r.iH)(e.sort((e,t)=>(e.sortTabFixed||0)-(t.sortTabFixed||0)))};addItem=e=>{this.state.tabBarItems.find(t=>t.path===e.path)||(this.state.tabBarItems=(0,r.iH)([...this.state.tabBarItems,e]))};add=e=>{if(!this.state.tabBarItems.find(t=>t.path===e)){let t=u.get_path_menuItem(e);t&&(this.state.tabBarItems=(0,r.iH)([...this.state.tabBarItems,t]))}};remove=(e,t)=>{if(t){let t=this.state.tabBarItems.findIndex(t=>t.path===e);this.state.tabBarItems=(0,r.iH)(this.state.tabBarItems.filter(t=>t.path!==e));let a=this.state.tabBarItems[t];a||(a=this.state.tabBarItems[this.state.tabBarItems.length-1]),a&&l.navigate(a.path)}else this.state.tabBarItems=(0,r.iH)(this.state.tabBarItems.filter(t=>t.path!==e));C.aliveController&&C.aliveController.drop(e)};onToggleFullScreen=()=>{this.state.pageFullScreen=!this.state.pageFullScreen};removeOther=(e,t)=>{if(!t){let t=this.state.tabBarItems.find((t,a)=>a===e);t&&l.navigate(t.path)}let a=this.state.tabBarItems.filter((t,a)=>a!==e&&!t.isTabFixed).map(e=>e.path);this.state.tabBarItems=(0,r.iH)(this.state.tabBarItems.filter((t,a)=>a===e||t.isTabFixed)),C.aliveController&&C.aliveController.dropScopeByIds(a)};removeLeft=(e,t)=>{if(!t){let t=this.state.tabBarItems.find((t,a)=>a===e);t&&l.navigate(t.path)}let a=this.state.tabBarItems.filter((t,a)=>a<e&&!t.isTabFixed).map(e=>e.path);this.state.tabBarItems=(0,r.iH)(this.state.tabBarItems.filter((t,a)=>a>=e||t.isTabFixed)),C.aliveController&&C.aliveController.dropScopeByIds(a)};removeRight=(e,t)=>{if(!t){let t=this.state.tabBarItems.find((t,a)=>a===e);t&&l.navigate(t.path)}let a=this.state.tabBarItems.filter((t,a)=>a>e&&!t.isTabFixed).map(e=>e.path);this.state.tabBarItems=(0,r.iH)(this.state.tabBarItems.filter((t,a)=>a<=e||t.isTabFixed)),C.aliveController&&C.aliveController.dropScopeByIds(a)};clear=()=>{this.state.tabBarItems=(0,r.iH)([]),this.state.pageFullScreen=!1,this.state.dropDownTabBarItems=(0,r.iH)([])}}let g=new x;class v{dom=(0,m.createRef)();tabBarItems=[];register=e=>(this.tabBarItems.push(e),()=>{this.tabBarItems=this.tabBarItems.filter(t=>t!==e)});timer;updateDropDownTabBarItems=()=>{clearTimeout(this.timer),this.timer=setTimeout(()=>{let e=this.tabBarItems||[],t=this.dom.current?.getBoundingClientRect(),a=[];for(let s=0;s<e.length;s++){let r=e[s];if(r.dom.current){let e=r.dom.current.getBoundingClientRect(),s=e.width/2;e.left>=t.left-s&&e.right<=t.right+s||a.push(r.item)}}let s=a.map(e=>({...e,isShowClose:!0!==e.isTabFixed}));g.state.dropDownTabBarItems=(0,r.iH)(s),clearTimeout(this.timer)},500)};mutationObserverCallback=()=>{this.updateDropDownTabBarItems()};resizeObserverCallback=()=>{for(let e=0;e<this.tabBarItems.length;e++){let t=this.tabBarItems[e];t.isActive&&t.scrollIntoView()}this.updateDropDownTabBarItems()};mutationObserver=()=>{let e=new MutationObserver(this.mutationObserverCallback);return this.dom.current&&e.observe(this.dom.current,{childList:!0,subtree:!0}),()=>{e.disconnect()}};resizeObserver=()=>{let e=new ResizeObserver(this.resizeObserverCallback);return this.dom.current&&e.observe(this.dom.current),()=>{e.disconnect()}};addEventListener=()=>{let e=this.mutationObserver(),t=this.resizeObserver();return this.updateDropDownTabBarItems(),this.dom.current&&this.dom.current.addEventListener("scrollend",this.updateDropDownTabBarItems),()=>{this.dom.current&&this.dom.current.removeEventListener("scrollend",this.updateDropDownTabBarItems),e(),t()}}}(0,m.createContext)(new v);let b=new class{appPlugins={};addPlugin=e=>{this.appPlugins={...this.appPlugins,...e}};clear=()=>{}},_=new class{state=[{name:"无动画",config:{}},{name:"淡入淡出",config:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}}},{name:"滑动",config:{initial:{opacity:0,x:"-20%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"20%"},transition:{duration:.5,ease:"easeOut"}}},{name:"3D翻转",config:{initial:{rotateY:90,opacity:0},animate:{rotateY:0,opacity:1},exit:{rotateY:-90,opacity:0},transition:{duration:.6},style:{transformStyle:"preserve-3d"}}},{name:"缩放",config:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.5}}}];expands=e=>{let t=this.state.filter(t=>!e.some(e=>e.name===t.name));this.state=[...t,...e]};getAnimationConfig=e=>this.state.find(t=>t.name===e)?.config||{}};class w{aliveController;static convertIdOrNameOne=e=>`fairys_admin_keep_alive_${e}`;static convertIdOrNameList=e=>e.map(e=>w.convertIdOrNameOne(e));clear=()=>{this.aliveController?.clear?.()};drop=e=>{this.aliveController?.drop?.(w.convertIdOrNameOne(e))};dropById=e=>{this.aliveController?.dropById?.(w.convertIdOrNameOne(e))};dropScope=e=>{this.aliveController?.dropScope?.(w.convertIdOrNameOne(e))};dropScopeByIds=e=>{this.aliveController?.dropScopeByIds?.(w.convertIdOrNameList(e))};refresh=e=>{this.aliveController?.refresh?.(w.convertIdOrNameOne(e))};refreshById=e=>{this.aliveController?.refreshById?.(w.convertIdOrNameOne(e))};refreshScope=e=>{this.aliveController?.refreshScope?.(w.convertIdOrNameOne(e))};refreshScopeByIds=e=>{this.aliveController?.refreshScopeByIds?.(w.convertIdOrNameList(e))};getCachingNodes=()=>this.aliveController?.getCachingNodes?.()}new w;class M{state=(0,r.sj)({tabItems:[],dataList:[],title:"通知",isShowIcon:!0,count:0,visibleMoreModal:!1});ctor=e=>{let{tabItems:t,title:a,isShowIcon:s}=e;this.state.tabItems=(0,r.iH)(t||[]),this.state.activeKey=t?.[0]?.key,this.state.title=a||"通知",this.state.isShowIcon=s??!0};onUpdateActiveKey;_onUpdateActiveKey=e=>{this.state.activeKey=e,this.onUpdateActiveKey?.(e)};getDataType=e=>this.state[`dataList_${e}`]||[];updatedToType=(e,t)=>{this.state[`dataList_${e}`]=(0,r.iH)(t||[])};getDataList=()=>this.state.dataList||[];updateDataList=e=>{this.state.dataList=(0,r.iH)(e||[])};onClickItem;_onClickItem=e=>{this.onClickItem?.(e)};onClickMore;closeMoreModal=()=>{this.state.visibleMoreModal=!1};_onClickMore=()=>{this.state.visibleMoreModal=!0,this.onClickMore?.(this.state.activeKey)};clear=()=>{for(let e in this.state)"tabItems"!==e&&(this.state[e]=void 0)}}let I=new M;class k{static localStorageKey="fairys-favorites-data";state=(0,r.sj)({dataList:(0,r.iH)([])});constructor(){let e=localStorage.getItem(k.localStorageKey);if(e)try{let t=JSON.parse(e);this.state.dataList=(0,r.iH)(t||[])}catch(e){console.log(e)}}addItem=e=>{if((this.state.dataList||[]).find(t=>t.path===e.path))return;let t=f.state.favoritesMaxLength||20,a=[e,...this.state.dataList||[]].slice(0,t);this.state.dataList=(0,r.iH)(a);try{localStorage.setItem(k.localStorageKey,JSON.stringify(a))}catch(e){console.log("添加收藏本地存储",e)}};removeItem=e=>{this.state.dataList=(0,r.iH)((this.state.dataList||[]).filter(t=>t.path!==e.path))};clear=()=>{}}let j=new k,C=new class{static router=l;static setting=f;static menu=u;static tabBar=g;static account=n;static motionAnimation=_;static appPlugin=b;static notification=I;static favoritesDataInstance=j;aliveController;authDataInstance;clear=()=>{l.clear(),f.clear(),u.clear(),g.clear(),n.clear(),b.clear(),I.clear(),this.aliveController.clear()}};var N=a(8206),S=a(496);class L{state=(0,r.sj)({darkMode:!1});setDarkMode=e=>{this.state.darkMode=e}}let B=(0,m.createContext)(new L),E=()=>{let e=(0,m.useContext)(B);return[(0,N.R)(e.state),e]},D=e=>{let{children:t}=e,[a,s]=E(),r=a.darkMode;return(0,m.createElement)(B.Provider,{children:m.Children.map(t,e=>{let t=e?.props;return m.isValidElement(e)?(0,m.cloneElement)(e,{className:(0,S.Z)(t?.className,"fairys:transition-all fairys:duration-300",{dark:r})}):e}),value:s})};class F{onUpdateDark=()=>void 0;darkDOM=(0,m.createRef)();watchDarkMode="prefers-color-scheme";#e=e=>{for(let t of e)"attributes"===t.type&&"class"===t.attributeName&&t.target instanceof HTMLElement&&(t.target.classList.contains("dark")?this.onUpdateDark(!0):this.onUpdateDark(!1))};#t;#a=e=>{e&&(this.#t=new MutationObserver(this.#e),e.classList.contains("dark")?this.onUpdateDark(!0):this.onUpdateDark(!1),this.#t.observe(e,{attributes:!0,attributeFilter:["class"]}))};#s=null;#r=e=>{this.onUpdateDark(e.matches)};#i=()=>{this.#s?this.#s.removeEventListener("change",this.#r):this.#s=window.matchMedia("(prefers-color-scheme: dark)"),this.#s.addEventListener("change",this.#r),this.onUpdateDark(this.#s.matches)};listenDarkMode=()=>(this.darkDOM.current?this.#a(this.darkDOM.current):"prefers-color-scheme"===this.watchDarkMode?this.#i():"html"===this.watchDarkMode?this.#a(document.documentElement):"body"===this.watchDarkMode?this.#a(document.body):this.watchDarkMode&&this.#a(document.getElementById(this.watchDarkMode)),()=>{this.#t?.disconnect?.(),this.#s?.removeEventListener?.("change",this.#r)})}let T=e=>{let t=(0,m.useRef)();return t.current||(e?t.current=e:t.current=new F),t.current};class O{constructor(){C.authDataInstance=this}state=(0,r.sj)({status:"Login",menusPermissions:[],btnsPermissions:[],ignorePermissions:[]});updatedStatus=e=>{this.state.status=e};onLogout=()=>void 0;_onLogout=()=>{this.updatedStatus("Login"),C.clear(),this.clear(),this.onLogout?.()};setIgnorePermissions=e=>{this.state.ignorePermissions=e};setMenusPermissions=e=>{this.state.menusPermissions=e};isMenuAuth=e=>!!this.state.ignorePermissions.includes(e)||this.state.menusPermissions.includes(e);setBtnsPermissions=e=>{this.state.btnsPermissions=e};isBtnAuth=e=>!!this.state.ignorePermissions.includes(e)||this.state.btnsPermissions.includes(e);clear=()=>{this.state.menusPermissions=[],this.state.btnsPermissions=[],this.state.ignorePermissions=[]}}new O;class R{isHideClose=!0;onClickItem;onCloseItem;items;mode;state=(0,r.sj)({value:void 0});isChecked=e=>!!this.state.value&&(Array.isArray(this.state.value)?this.state.value.includes(e.value||""):this.state.value===e.value)}let A=e=>{let t=(0,m.useRef)();return t.current||(e?t.current=e:t.current=new R),t.current},P=(0,m.createContext)(new R),H=()=>{let e=(0,m.useContext)(P),t=(0,N.R)(e.state);return[t,e,t.__defaultValue]};var $=a(406),Z=a(5146),z=a(7560),Q=a(4033);let K=(e=!1)=>{let[t,a]=(0,m.useState)(e);return{show:(0,m.useMemo)(()=>!!t||e,[t,e]),onAnimationComplete:e=>{a("open"===e)},setStatus:a}};var U=a(6967),W=a(8117);let V={open:{scale:1,opacity:1,height:"auto"},collapsed:{scale:.5,opacity:0,height:0}},J={duration:.5},q=(0,m.forwardRef)((e,t)=>{let{content:a,children:r,onOpenChange:i,motionClassName:n,className:o,eventName:l,disabled:d=!1,placement:f,isNotMinWidth:y=!1}=e,[c,h]=(0,m.useState)(!1),{show:u,onAnimationComplete:p}=K(c),x=e=>{i?.(e),h(e)},g=(0,$.ay)(),v=(0,$.jV)(),b=(0,$.Zm)(),_="hover"===l||null!=b,[w,M]=(0,m.useState)(!1),{floatingStyles:I,refs:k,context:j}=(0,$.YF)({nodeId:v,open:c,onOpenChange:x,placement:f||(_?"right-start":"bottom-start"),middleware:[(0,z.cv)({mainAxis:4*!_,alignmentAxis:_?-4:0}),(0,z.RR)(),(0,z.uY)(),(0,z.dp)({apply({availableWidth:e,availableHeight:t,elements:a}){Object.assign(a.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})],whileElementsMounted:Q.Me}),C=(0,$.XI)(j,{enabled:!d&&_&&w,delay:{open:75},handleClose:(0,$.xp)({blockPointerEvents:!0})}),N=("contextMenu"===l?function(){return{}}:$.eS)(j,{event:"mousedown",toggle:!_||!w,ignoreMouse:_,enabled:!d}),L=(0,$.qs)(j,{role:"menu"}),B=(0,$.bQ)(j,{bubbles:!0}),{getReferenceProps:E,getFloatingProps:F}=(0,$.NI)([C,N,L,B]);(0,m.useEffect)(()=>{if(g)return g.events.on("click",e),g.events.on("menuopen",t),()=>{g.events.off("click",e),g.events.off("menuopen",t)};function e(){x(!1)}function t(e){e.nodeId!==v&&e.parentId===b&&x(!1)}},[g,v,b]),(0,m.useEffect)(()=>{c&&g&&g.events.emit("menuopen",{parentId:b,nodeId:v})},[g,c,v,b]),(0,m.useEffect)(()=>{function e({pointerType:e}){"touch"!==e&&M(!0)}function t(){M(!1)}return window.addEventListener("pointermove",e,{once:!0,capture:!0}),window.addEventListener("keydown",t,!0),()=>{window.removeEventListener("pointermove",e,{capture:!0}),window.removeEventListener("keydown",t,!0)}},[w]);let T=(0,$.qq)([k.setReference,t]),O=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_popover-base no-scrollbar",o,["fairys:rounded-sm fairys:bg-white fairys:dark:bg-gray-800! fairys:shadow-xl fairys:inset-shadow-sm"]),[o]),R=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_popover-base-motion fairys:overflow-hidden","fairys:flex fairys:flex-col fairys:relative fairys:border fairys:border-gray-100 fairys:dark:border-gray-700 fairys:rounded-md fairys:gap-1",n,["fairys:rounded-sm fairys:bg-white fairys:dark:bg-gray-800!"],{"fairys:min-w-[120px]":!1===y}),[n,y]);return(0,s.jsxs)($.mN,{id:v,children:[m.Children.map(r,e=>m.isValidElement(e)?(0,m.cloneElement)(e,{ref:T,...E({onContextMenu:e=>{"contextMenu"===l&&(e.preventDefault(),j.onOpenChange(!0,e.nativeEvent,"click"))}})}):e),u?(0,s.jsx)($.ll,{children:(0,s.jsx)(D,{children:(0,s.jsx)("div",{children:(0,s.jsx)(U.M,{children:(0,s.jsx)("div",{ref:k.setFloating,style:I,className:O,...F(),children:(0,s.jsx)(W.E.div,{initial:"collapsed",animate:c?"open":"collapsed",variants:V,transition:J,onAnimationComplete:p,className:R,children:a})})})})})}):(0,s.jsx)(m.Fragment,{})]})}),Y=(0,m.forwardRef)((e,t)=>{let{children:a,onOpenChange:r,eventName:i="click",className:n,motionClassName:o="",disabled:l=!1,content:d,placement:f,isNotMinWidth:m=!1}=e;return(0,s.jsx)(X,{children:(0,s.jsx)(q,{eventName:i,placement:f,onOpenChange:r,ref:t,content:d,className:n,disabled:l,motionClassName:o,isNotMinWidth:m,children:a})})}),X=e=>null===(0,$.Zm)()?(0,s.jsx)($.RB,{children:e.children}):e.children,G=(0,m.forwardRef)((e,t)=>{let{rowItemData:a,isSubMenuItem:r=!1}=e,{isShowClose:i=!0,className:n}=a,o=a.iconProps||{},l=(0,$.ay)(),[d,f]=H(),y=(0,m.useMemo)(()=>f.isChecked(a),[d.value]),c=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_popover_menu_item","fairys:shrink-0 fairys:text-gray-400 fairys:transition-all fairys:duration-300 fairys:flex fairys:flex-row fairys:items-center fairys:justify-between fairys:gap-1 fairys:py-[5px] fairys:px-[8px] fairys:mx-[5px] fairys:rounded-sm",{"fairys:opacity-70 fairys:select-none":a.disabled,"fairys:text-gray-600 fairys:cursor-pointer fairys:hover:text-gray-700 fairys:dark:text-gray-400 fairys:dark:hover:text-gray-300 fairys:dark:hover:bg-gray-700 fairys:hover:bg-gray-100":!a.disabled,"active fairys:bg-(--fairys-theme-color)! fairys:text-white!":y,"fairys:dark:bg-gray-700/75 fairys:bg-gray-100/75 fairys:text-gray-600!":!a.disabled&&r},n),[y,a,r,n]);return(0,s.jsxs)("div",{ref:t,onClick:e=>{a.disabled||r||(e.preventDefault(),f.onClickItem?.(a,e),a.onClick?.(a,e),"multiple"!==f.mode&&!1!==a.isClickClose&&l.events.emit("click"))},className:c,children:[(0,s.jsxs)("div",{className:"fairys:flex fairys:items-center fairys:flex-1",children:[a.icon?(0,s.jsx)("span",{className:"fairys:size-[16px] fairys:mr-2",children:(0,s.jsx)(Z.JO,{...o,icon:a.icon,className:`fairys:size-[16px] ${o?.className||""}`})}):(0,s.jsx)(m.Fragment,{}),(0,s.jsx)("div",{children:a.title})]}),(0,s.jsx)("div",{children:r?(0,s.jsx)("span",{className:"fairys:icon-[ant-design--right-outlined] fairys:ml-5 fairys:text-gray-400 fairys:hover:text-gray-600 fairys:dark:hover:text-white fairys:dark:text-gray-500 fairys:transition-all fairys:duration-300"}):f.isHideClose||!1===i?(0,s.jsx)(m.Fragment,{}):(0,s.jsx)("span",{className:"fairys:icon-[ant-design--close-outlined] fairys:ml-5 fairys:text-gray-400 fairys:hover:text-gray-600 fairys:dark:hover:text-white fairys:dark:text-gray-500 fairys:transition-all fairys:duration-300",onClick:e=>{a.disabled||(e.preventDefault(),f.onCloseItem?.(a,e),a.onCloseItem?.(a,e))}})})]})}),ee=(0,m.forwardRef)((e,t)=>{let{label:a,onOpenChange:r}=e,{rowItemData:i}=e,{items:n}=i,{popoverClassName:o,motionClassName:l}=i,d=(0,m.useMemo)(()=>(n||[]).map((e,t)=>et(e,t)),[n]);return(0,s.jsx)(Y,{className:o,motionClassName:l,disabled:i.disabled,onOpenChange:r,ref:t,content:d,children:a||(0,s.jsx)(G,{rowItemData:i,isSubMenuItem:!0})})}),et=(e,t)=>e.children?(0,s.jsx)(m.Fragment,{children:e.children},e.path||e.title||e.key||t):!1===e.visible?(0,s.jsx)(m.Fragment,{},e.path||e.title||e.key||t):e.isDivider?(0,s.jsx)("div",{className:"fairys:w-full fairys:h-[1px] fairys:bg-gray-100 fairys:dark:bg-gray-700"},e.path||e.title||e.key||t):Array.isArray(e.items)?(0,s.jsx)(ee,{rowItemData:e},e.path||e.title||e.key||t):(0,s.jsx)(G,{rowItemData:e},e.path||e.title||e.key||t),ea=(0,m.forwardRef)((e,t)=>{let{items:a,children:r,onOpenChange:i,onClickItem:n,onCloseItem:o,mode:l,value:d,isHideClose:f=!0,instance:y,eventName:c="click",className:h="",motionClassName:u="",disabled:p=!1,placement:x}=e,g=A(y);g.items=a,g.isHideClose=f,g.onClickItem=n,g.onCloseItem=o,g.mode=l,(0,m.useMemo)(()=>{g.state.value=d},[d]);let v=(0,m.useMemo)(()=>(a||[]).map((e,t)=>et(e,t)),[a]);return(0,s.jsx)(P.Provider,{value:g,children:(0,s.jsx)(Y,{eventName:c,onOpenChange:i,ref:t,content:v,className:h,disabled:p,motionClassName:`fairys:py-[6px] ${u}`,placement:x,children:r})})}),es=e=>{let{items:t,separate:a="bg",className:r,itemClassName:i,itemStyle:n,isFristNoPadding:o=!1,...l}=e,d=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_breadcrumb fairys:relative fairys:flex fairys:items-center fairys:min-h-[36px] fairys:py-[8px] fairys:box-border",r,{[a]:!!a}),[a,r]),f=(0,m.useMemo)(()=>(t||[]).map((e,r)=>{let l=r===t.length-1,d=(0,S.Z)("fairys_admin_breadcrumb_item fairys:transition-all fairys:duration-300 fairys:relative fairys:cursor-pointer fairys:rounded-sm fairys:py-[6px] fairys:max-w-[150px] fairys:overflow-hidden fairys:text-ellipsis fairys:whitespace-nowrap",{"fairys:px-[14px]":0!==r&&o||!o,"fairys:pr-[14px]":o&&0===r,"fairys:text-gray-500 fairys:hover:text-gray-500":l,"fairys:text-gray-400 fairys:hover:text-gray-500":!l,"fairys:bg-gray-100 fairys:hover:bg-gray-100":l&&"bg"===a,"fairys:bg-gray-100 fairys:hover:bg-gray-200":!l&&"bg"===a,"fairys:dark:text-gray-300 fairys:dark:hover:text-gray-200":l,"fairys:dark:text-gray-400 fairys:dark:hover:text-gray-300":!l,"fairys:dark:bg-gray-800 fairys:dark:hover:bg-gray-700":"bg"===a,'fairys:after:text-gray-200 fairys:dark:after:text-gray-600 fairys:after:content-["/"]':"slash"===a},i);return(0,s.jsx)("div",{style:n,title:e.title,className:d,children:e.title},e.path)}),[t,n,o]);return(0,s.jsx)("div",{...l,className:d,children:f})},er=(0,m.forwardRef)((e,t)=>{let{className:a,isBg:r,bordered:i=!1,...n}=e,o=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_button_base ",["fairys:outline-0","fairys:flex fairys:items-center fairys:justify-center fairys:min-w-[36px] fairys:min-h-[36px] fairys:rounded-sm fairys:cursor-pointer","fairys:transition-all fairys:duration-300","fairys:hover:bg-gray-200 fairys:dark:hover:bg-gray-600 ",r&&"fairys:bg-gray-200 fairys:dark:bg-gray-600"],{"fairys:border-0":!i,"fairys:border fairys:border-gray-300 fairys:dark:border-gray-600":i,"fairys:bg-transparent":!r&&!i},a),[a,i,r]);return(0,s.jsx)("button",{...n,ref:t,className:o})}),ei=e=>{let{children:t,open:a,className:r,...i}=e,{show:n,onAnimationComplete:o}=K(a);return(0,s.jsx)(U.M,{initial:!1,mode:"wait",children:n&&(0,s.jsx)(W.E.div,{...i,className:r,initial:"collapsed",animate:a?"open":"collapsed",variants:{open:{scale:1,opacity:1,height:"auto"},collapsed:{scale:.5,opacity:0,height:0}},transition:{duration:.35},onAnimationComplete:o,children:t})})},en=(0,m.forwardRef)((e,t)=>{let{title:a="",tips:r="载入中",className:i,loading:n=!1,...o}=e,{show:l,onAnimationComplete:d}=K(n),f=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_enter_loading fairys:bg-white/75 fairys:dark:bg-black/75",i),[i]);return l?(0,s.jsxs)(W.E.div,{...o,ref:t,className:f,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onAnimationComplete:d,children:[(0,s.jsxs)("div",{className:"fairys_admin_enter_loading-main",children:[(0,s.jsx)("div",{className:"square"}),(0,s.jsx)("div",{className:"square"}),(0,s.jsx)("div",{className:"square"}),(0,s.jsx)("div",{className:"square"})]}),(0,s.jsx)("div",{className:"name",children:a}),(0,s.jsxs)("div",{className:"tips",children:[r,(0,s.jsx)("span",{className:"loading-dots"})]})]}):(0,s.jsx)(m.Fragment,{})});var eo=a(4618);class el{open=!1;onClose;onEsc=()=>{if(this.open){let e=this;(0,eo.Z)("esc",t=>{t.preventDefault(),e.onClose?.()})}return()=>{eo.Z.unbind("esc")}}}let ed=()=>(0,m.useRef)(new el).current,ef=e=>{let{open:t,children:a,onClose:r,className:i,...n}=e,o=ed();o.onClose=r,o.open=t;let l=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_full_screen fairys:transparent fairys:transition-all fairys:duration-300 fairys:overflow-hidden fairys:w-full fairys:h-full",i,{"fairys:absolute fairys:bg-white fairys:dark:bg-gray-800 fairys:top-0 fairys:left-0 fairys:right-0 fairys:bottom-0":!!t}),[t,i]),d=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_full_screen_close fairys:transition-all fairys:duration-300 fairys:justify-center fairys:items-center fairys:flex fairys:absolute fairys:top-0 fairys:right-0 fairys:w-[38px] fairys:h-[38px] fairys:bg-neutral-500 fairys:hover:bg-neutral-600 fairys:cursor-pointer",{}),[t]);return(0,m.useEffect)(o.onEsc,[t]),(0,s.jsxs)("div",{...n,className:l,children:[t?(0,s.jsx)("div",{title:"退出全屏",className:d,onClick:r,children:(0,s.jsx)("span",{className:"fairys:absolute fairys:top-[4px] fairys:right-[4px] fairys:text-white fairys:dark:hover:text-neutral-300 fairys:size-[20px] fairys:icon-[mdi-light--fullscreen-exit]"})}):(0,s.jsx)(m.Fragment,{}),a]})},em={modal:"fairys_admin_modal_base_overlay fairys:absolute fairys:top-0 fairys:left-0 fairys:right-0 fairys:bottom-0 fairys:flex fairys:flex-col fairys:items-center no-scrollbar fairys:justify-around fairys:overflow-hidden",drawer:"fairys_admin_drawer_base_overlay fairys:absolute fairys:top-0 fairys:left-0 fairys:right-0 fairys:bottom-0 fairys:flex fairys:flex-row fairys:justify-end no-scrollbar fairys:overflow-hidden"},ey={modal:"fairys_admin_modal_base fairys:min-w-[400px] fairys:min-h-[200px] fairys:max-h-[calc(100vh-100px)] fairys:rounded-sm fairys:bg-white fairys:dark:bg-gray-800! fairys:border fairys:border-gray-200 fairys:dark:border-gray-700 fairys:shadow-xl fairys:inset-shadow-sm fairys:relative fairys:flex fairys:flex-col fairys:max-h-[100vh] fairys:overflow-hidden fairys:max-w-[100vw]",drawer:"fairys_admin_drawer_base_drawer fairys:min-w-[400px] fairys:min-h-[100vh] fairys:rounded-l-sm fairys:bg-white fairys:dark:bg-gray-800! fairys:border fairys:border-gray-200 fairys:dark:border-gray-700 fairys:shadow-xl fairys:inset-shadow-sm fairys:relative fairys:flex fairys:flex-col fairys:max-h-[100vh] fairys:overflow-hidden"},ec={modal:{open:{backgroundColor:"var(--fairys-bg-modal,oklch(27.8% 0.033 256.848 /0.5))"},collapsed:{backgroundColor:"transparent"}},drawer:{open:{backgroundColor:"var(--fairys-bg-modal,oklch(27.8% 0.033 256.848 /0.5))"},collapsed:{backgroundColor:"transparent"}}},eh={type:"spring",bounce:0,duration:.5},eu={modal:{open:{clipPath:"inset(0% 0% 0% 0% round var(--radius-sm))"},collapsed:{clipPath:"inset(10% 50% 90% 50% round var(--radius-sm))"}},drawer:{open:{clipPath:"inset(0% 0% 0% 0% round var(--radius-sm))"},collapsed:{clipPath:"inset(0% 0% 100% 100% round var(--radius-sm))"}}},ep=e=>{let{title:t,children:a,footer:r,open:i,extra:n,onClose:o,className:l="",headerClassName:d="",titleClassName:f="",bodyClassName:y="",footerClassName:c="",style:h,headerStyle:u,titleStyle:p,bodyStyle:x,footerStyle:g,mode:v="modal",isFullScreen:b,outsidePressClose:_=!0}=e,{show:w,onAnimationComplete:M}=K(i);if(!w)return(0,s.jsx)(m.Fragment,{});let I=em[v]||em.modal,k=ey[v]||ey.modal,j=ec[v]||ec.modal,C=eu[v]||eu.modal;return(0,s.jsx)($.ll,{children:(0,s.jsx)(U.M,{mode:"wait",children:(0,s.jsx)(D,{children:(0,s.jsxs)(W.E.div,{className:I,initial:"collapsed",animate:i?"open":"collapsed",variants:j,transition:eh,onClick:e=>{e.preventDefault(),e.target===e.currentTarget&&_&&o?.()},children:[(0,s.jsxs)(W.E.div,{className:`${k} ${b?"fairys:min-w-[100vw]! fairys:min-h-[100vh]! fairys:p-0!":""} ${l}`,style:h,initial:"collapsed",animate:i?"open":"collapsed",variants:C,transition:eh,onAnimationComplete:M,children:[t||n?(0,s.jsxs)("div",{style:u,className:(0,S.Z)("fairys_admin_modal_base_header fairys:box-border fairys:p-4 fairys:relative fairys:flex fairys:items-center fairys:justify-between fairys:border-b fairys:border-gray-200 fairys:dark:border-gray-700 ",d),children:[t?(0,s.jsx)("div",{style:p,className:`fairys_admin_modal_base_header_title fairys:font-medium fairys:text-lg ${f}`,children:t}):(0,s.jsx)(m.Fragment,{}),n?(0,s.jsx)("div",{className:"fairys_admin_modal_base_header_extra",children:n}):(0,s.jsx)(m.Fragment,{})]}):(0,s.jsx)(m.Fragment,{}),(0,s.jsx)("div",{style:x,className:`fairys_admin_modal_base_content fairys:p-4 fairys:box-border fairys:flex-1 fairys:overflow-hidden ${y}`,children:a}),r?(0,s.jsx)("div",{style:g,className:`fairys_admin_modal_base_footer fairys:p-4 fairys:box-border fairys:border-t fairys:border-gray-200 fairys:dark:border-gray-700 ${c}`,children:r}):(0,s.jsx)(m.Fragment,{}),o?(0,s.jsx)("span",{className:"fairys_admin_modal_base_close fairys:text-gray-400 fairys:hover:text-gray-500 fairys:dark:hover:text-gray-300 fairys:absolute fairys:top-4 fairys:right-4 fairys:size-[16px] fairys:cursor-pointer fairys:icon-[ant-design--close-outlined]",onClick:o}):(0,s.jsx)(m.Fragment,{})]}),"modal"===v?(0,s.jsx)("div",{"data-empty":!0}):(0,s.jsx)(m.Fragment,{})]})})})})};new class{keepAlive;isOutletKeepAlive};let ex=e=>{let{items:t=[],onChange:a,multiple:r=!1,value:i,disabled:n=!1}=e,[o,l]=(0,m.useState)(!1),d=(0,m.useMemo)(()=>(0,S.Z)("fairys:relative fairys:after:bg-current fairys:before:bg-current fairys:after:-translate-y-[1px] fairys:before:-translate-y-[1px]",{expand:o,close:!o}),[o]),f=(0,m.useMemo)(()=>Array.isArray(i)&&i.length||!i?"请选择":r&&Array.isArray(i)?(i||[]).map(e=>{let a=t.find(t=>t.value===e);return a?.title}).join(","):t.find(e=>e.value===i)?.title,[i,t,r]);return(0,s.jsx)(ea,{disabled:n,items:t,onOpenChange:e=>l(e),onClickItem:e=>{r?Array.isArray(i)?(i||[]).find(t=>t===e.value)?a?.(i.filter(t=>t!==e.value)):a?.(i.concat([e.value])):a?.([e.value]):a?.(e.value)},value:i,mode:r?"multiple":"single",children:(0,s.jsxs)("div",{className:"fairys:min-w-[120px] fairys:min-h-[38px] fairys:px-[12px] fairys:py-[4px] fairys:border fairys:border-gray-200 fairys:dark:border-gray-700 fairys:rounded-sm fairys:cursor-pointer fairys:flex fairys:flex-row fairys:justify-between fairys:items-center",children:[(0,s.jsx)("span",{children:f}),(0,s.jsx)("span",{className:"fairys_admin_down_up_icon fairys:size-[16px] fairys:flex fairys:items-center fairys:justify-center fairys:relative",children:(0,s.jsx)("div",{className:d})})]})})};function eg(e){let{value:t=!1,onChange:a=()=>void 0,disabled:r=!1}=e;return(0,s.jsxs)(W.E.div,{style:{width:36,height:20,borderRadius:16,backgroundColor:"rgba(120,120,128,.56)",position:"relative",cursor:"pointer",opacity:r?.5:1,pointerEvents:r?"none":"auto"},animate:t?"on":"off",initial:!1,onTapStart:()=>a(!t),children:[(0,s.jsx)(W.E.div,{style:{width:"100%",height:"100%",borderRadius:16,backgroundColor:"#34C759"},variants:{off:{scale:0},on:{scale:1}},transition:{ease:"easeInOut"}}),(0,s.jsx)(W.E.div,{style:{width:16,height:16,borderRadius:16,backgroundColor:"white",boxShadow:"0 0 0 0.5px rgba(0,0,0,.04), 0 3px 8px 0 rgba(0,0,0,.15), 0 3px 1px 0 rgba(0,0,0,.06)",position:"absolute",top:2,left:2},variants:{off:{x:0},on:{x:16}},transition:{ease:"easeInOut"}})]})}let ev=(0,m.forwardRef)((e,t)=>{let{className:a,children:r,...i}=e,n=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_main_page_search fairys:w-full fairys:box-border",a),[a]);return(0,s.jsx)("div",{...i,ref:t,className:n,children:r})}),eb=(0,m.forwardRef)((e,t)=>{let{className:a,children:r,...i}=e,n=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_main_page_body fairys:w-full fairys:box-border fairys:flex-1 fairys:flex fairys:flex-col fairys:overflow-auto",a),[a]);return(0,s.jsx)("div",{...i,ref:t,className:n,children:r})}),e_=(0,m.forwardRef)((e,t)=>{let{className:a,children:r,...i}=e,n=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_main_page_footer fairys:box-border fairys:w-full",a),[a]);return(0,s.jsx)("div",{...i,ref:t,className:n,children:r})}),ew=(0,m.forwardRef)((e,t)=>{let{className:a,children:r,bodyClassName:i,...n}=e,o=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_main_page fairys:p-[14px] fairys:box-border fairys:h-full fairys:w-full fairys:bg-stone-100 fairys:dark:bg-gray-950",a),[a]),l=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_main_page_main fairys:p-[14px] fairys:flex fairys:flex-col fairys:box-border fairys:h-full fairys:w-full fairys:bg-white fairys:dark:bg-gray-900 fairys:rounded-sm",i),[i]);return(0,s.jsx)("div",{...n,ref:t,className:o,children:(0,s.jsx)("div",{className:l,children:r})})});class eM{name;value;errors}let eI=e=>{let{name:t,valuePropName:a="value",formatValue:s}=e,r=eN(),i=(0,N.R)(r.state),n=(0,m.useRef)(new eM).current;n.name=t;let o=i.errors?.[t],l=i.formData?.[t];return n.value=l,n.errors=o,(0,m.useEffect)(()=>{let e=r.register(t,n);return()=>{e()}},[t]),{value:l,errors:o,itemInstance:n,formInstance:r,onChange:e=>{let i=e;e&&e.target&&"object"==typeof e.target&&a in e.target&&(i=e.target[a]),"function"==typeof s&&(i=s(i,r,e)),r.onValueChange(t,i)}}};class ek{state=(0,r.sj)({formData:{},errors:{}});items=new Map([]);rules={};register=(e,t)=>(this.items.set(e,t),()=>{this.items.delete(e)});updatedFormData=(e,t)=>{if(e){for(let t in e)this.state.formData[t]=e[t];if(t)try{this.validate(Object.keys(e),!1)}catch(e){console.log(e)}}};updatedErrors=e=>{for(let t in e)(0,m.isValidElement)(e[t])?this.state.errors[t]=(0,r.iH)(e[t]):this.state.errors[t]=e[t]};validate=async(e,t=!0)=>{let a={},s=!0;for(let t of e||this.items.keys()){let e=this.rules?.[t];if(a[t]="","function"==typeof e){let r=await e(this.state.formData[t],this.state.formData);r&&(a[t]=r,s=!1)}}if(this.updatedErrors(a),t)return s?Promise.resolve({value:(0,r.CO)(this.state.formData),errors:a}):Promise.reject({value:(0,r.CO)(this.state.formData),errors:a})};onValueChange=(e,t)=>{this.updatedFormData({[e]:t},!0)}}let ej=e=>{let t=(0,m.useRef)();return t.current||(e?t.current=e:t.current=new ek),t.current},eC=(0,m.createContext)(new ek),eN=()=>(0,m.useContext)(eC),eS=e=>{let{className:t,title:a,form:r,children:i,rules:n,bodyClassName:o,titleClassName:l,mainClassName:d,...f}=e,y=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page fairys:w-full fairys:h-full fairys:flex fairys:items-center fairys:justify-center fairys:overflow-auto fairys:box-border",t),[t]),c=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content fairys:p-[14px] fairys:flex fairys:flex-col fairys:w-[400px] fairys:h-[400px] fairys:rounded-sm fairys:gap-y-[20px] fairys:box-border  fairys:shadow-xl fairys:inset-shadow-sm ",d),[d]),h=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content_title fairys:flex fairys:items-center fairys:justify-center fairys:text-[24px] fairys:font-bold fairys:box-border",l),[l]),u=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content_form fairys:flex-1 fairys:flex fairys:flex-col fairys:gap-[20px] fairys:box-border",o),[o]),p=ej(r);return p.rules=n,(0,s.jsx)(eC.Provider,{value:p,children:(0,s.jsx)("div",{className:y,...f,children:(0,s.jsxs)("div",{className:c,children:[(0,s.jsx)("div",{className:h,children:a}),(0,s.jsx)("div",{className:u,children:i})]})})})};eS.useForm=ej,eS.useFormInstance=eN,eS.FormItem=e=>{let{label:t,children:a,className:r,formatValue:i,valuePropName:n,name:o,required:l,isShowErrorMessage:d,layout:f="vertical",labelClassName:y,...c}=e,h=eI({name:o,formatValue:i,valuePropName:n}),u=h.errors,p=!!u,x=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content_form_item fairys:flex ",r,{"fairys:flex-row fairys:gap-x-[12px]":"horizontal"===f,"fairys:flex-col fairys:gap-y-[4px]":"vertical"===f}),[r,f]),g=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content_form_item_label fairys:min-w-[80px] fairys:relative fairys:flex fairys:items-center fairys:font-medium fairys:text-[14px]",y,{"fairys:before:content-['*'] fairys:before:text-red-600 fairys:before:mr-[2px]":l,"fairys:justify-end":"horizontal"===f}),[l,f,y]),v=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content_form_item_content fairys:relative",{"fairys:flex-1":"horizontal"===f}),[f]),b="number"==typeof h.value||"boolean"==typeof h.value?h.value:h.value||"";return(0,s.jsxs)("div",{...c,className:x,children:[(0,s.jsx)("label",{className:g,htmlFor:o,children:t}),(0,s.jsxs)("div",{className:v,children:[(0,m.isValidElement)(a)?(0,m.cloneElement)(a,{value:b,onChange:h.onChange,id:o,"data-is-error":p,name:o}):a,d&&p?(0,s.jsx)("div",{className:"fairys_login_page_content_form_item_error_message fairys:absolute fairys:top-full fairys:left-0 fairys:text-[10px] fairys:text-red-500",children:u}):(0,s.jsx)(m.Fragment,{})]})]})},eS.FormItemInput=e=>{let{className:t,errorBorderd:a="bottom",...r}=e,i=(0,m.useMemo)(()=>(0,S.Z)("fairys_login_page_content_form_item_input fairys:disabled:bg-gray-100 fairys:dark:disabled:bg-gray-700 fairys:transition-all fairys:duration-300 fairys:py-[8px] fairys:px-[12px] fairys:outline-none fairys:box-border fairys:w-full fairys:min-h-[32px] fairys:rounded-sm fairys:text-sm fairys:border fairys:border-gray-200 fairys:dark:border-gray-700 fairys:data-[is-error=true]:text-red-500 fairys:data-[is-error=true]:placeholder:text-red-500",t,{"fairys:data-[is-error=true]:border-red-500":"all"===a,"fairys:data-[is-error=true]:border-b-red-500":"bottom"===a}),[t,a]);return(0,s.jsx)("input",{...r,className:i})};let eL=(e,t,a=1)=>{let s=document.createElement("canvas"),r=s.getContext("2d"),i=e*a,n=t*a;return s.setAttribute("width",`${i}px`),s.setAttribute("height",`${n}px`),r.save(),[r,s,i,n]},eB=(e,t,a)=>[e*Math.cos(a)-t*Math.sin(a),e*Math.sin(a)+t*Math.cos(a)],eE=(e,t=!1)=>t&&null==e?[]:Array.isArray(e)?e:[e];class eD extends F{dom=(0,m.createRef)();content;width;height;image;rotate=-22;gap=[100,100];offset;zIndex;font;_ctx;onUpdateDark=e=>{this.state.darkMode=e};state=(0,r.sj)({dataURL:"",finalWidth:0,finalHeight:0,darkDataURL:"",darkFinalWidth:0,darkFinalHeight:0,markStyle:{},darkMode:!1});createMarkStyle=()=>{let[e=100,t=100]=this.gap,a=e/2,s=t/2,r=this.offset?.[0]??a,i=this.offset?.[1]??s,n={zIndex:this.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"},o=r-a,l=i-s;return o>0&&(n.left=`${o}px`,n.width=`calc(100% - ${o}px)`,o=0),l>0&&(n.top=`${l}px`,n.height=`calc(100% - ${l}px)`,l=0),n.backgroundPosition=`${o}px ${l}px`,this.state.markStyle=n,n};getMarkSize=e=>{let t=120,a=64;if(!this.image&&e.measureText){e.font=`${Number(this.font?.fontSize??20)}px ${this.font?.fontFamily??"sans-serif"}`;let s=eE(this.content),r=s.map(t=>{let a=e.measureText(t);return[a.width,a.fontBoundingBoxAscent+a.fontBoundingBoxDescent]});t=Math.ceil(Math.max(...r.map(e=>e[0]))),a=Math.ceil(Math.max(...r.map(e=>e[1])))*s.length+(s.length-1)*3}return[this.width??t,this.height??a]};getClips=(e,t,a,s,r,i,n,o)=>{let[l,d,f,m]=eL(s,r,a);if(e instanceof HTMLImageElement)l.drawImage(e,0,0,f,m);else{let{color:t,fontSize:s,fontStyle:n,fontWeight:o,fontFamily:d,textAlign:m}=i,y=Number(s)*a;l.font=`${n} normal ${o} ${y}px/${r}px ${d}`,l.fillStyle=t,l.textAlign=m,l.textBaseline="top";let c=eE(e);c?.forEach((e,t)=>{l.fillText(e??"",f/2,t*(y+3*a))})}let y=Math.PI/180*Number(t),c=Math.max(s,r),[h,u,p]=eL(c,c,a);h.translate(p/2,p/2),h.rotate(y),f>0&&m>0&&h.drawImage(d,-f/2,-m/2);let x=0,g=0,v=0,b=0,_=f/2,w=m/2;[[0-_,0-w],[0+_,0-w],[0+_,0+w],[0-_,0+w]].forEach(([e,t])=>{let[a,s]=eB(e,t,y);x=Math.min(x,a),g=Math.max(g,a),v=Math.min(v,s),b=Math.max(b,s)});let M=x+p/2,I=v+p/2,k=g-x,j=b-v,C=n*a,N=o*a,S=(k+C)*2,L=j+N,[B,E]=eL(S,L),D=(e=0,t=0)=>{B.drawImage(u,M,I,k,j,e,t,k,j)};return D(),D(k+C,-j/2-N/2),D(k+C,j/2+N/2),[E.toDataURL(),S/a,L/a]};onDrawCanvas=(e,t)=>{if(!t)return;let a=window.devicePixelRatio||1,[s,r]=this.getMarkSize(e),[i=100,n=100]=this.gap,o=e=>this.getClips(t,this.rotate??-22,a,s,r,{color:e,fontSize:this.font?.fontSize??20,fontStyle:this.font?.fontStyle??"normal",fontWeight:this.font?.fontWeight??"normal",fontFamily:this.font?.fontFamily??"sans-serif",textAlign:this.font?.textAlign??"center"},i,n),[l,d,f]=o(this.font?.color??"rgba(0, 0, 0, 0.15)");this.state.dataURL=l,this.state.finalWidth=d,this.state.finalHeight=f;let[m,y,c]=o(this.font?.darkColor??"rgba(255, 255, 255, 0.15)");this.state.darkDataURL=m,this.state.darkFinalWidth=y,this.state.darkFinalHeight=c};createWatermark=()=>{let e=document.createElement("canvas");if(this._ctx=e.getContext("2d"),this._ctx)if(this.image){let e=new Image;e.onload=()=>{this.onDrawCanvas(this._ctx,e)},e.onerror=()=>{this.onDrawCanvas(this._ctx,this.content)},e.crossOrigin="anonymous",e.referrerPolicy="no-referrer",e.src=this.image}else this.onDrawCanvas(this._ctx,this.content)}}let eF=(0,m.createContext)(new eD),eT=e=>{let t=(0,m.useRef)();return t.current||(e?t.current=e:t.current=new eD),t.current},eO=()=>{let e=(0,m.useContext)(eF),t=(0,N.R)(e.state);return[t,e,t.__defaultValue]},eR=()=>{let[e]=eO(),t=e.dataURL,a=e.darkDataURL,r=e.finalWidth,i=e.darkFinalWidth,n=e.markStyle,o=e.darkMode,l=(0,m.useMemo)(()=>t||a?o?{...n,visibility:"visible !important",backgroundImage:`url('${a}')`,backgroundSize:`${Math.floor(i)}px`}:{...n,visibility:"visible !important",backgroundImage:`url('${t}')`,backgroundSize:`${Math.floor(r)}px`}:{},[n,t,a,r,i,o]);return(0,s.jsx)("div",{className:"fairys_admin_watermark_render",style:l})},eA=(0,m.forwardRef)((e,t)=>{let{content:a,width:r,height:i,image:n,rotate:o=-22,gap:l=[100,100],offset:d,zIndex:f,font:y={},className:c,children:h,fairysWatermark:u,watchDarkMode:p="html",...x}=e,g=eT(u);g.watchDarkMode=p,g.content=a,g.width=r,g.height=i,g.image=n,g.rotate=o,g.gap=l,g.offset=d,g.zIndex=f,g.font=y;let{color:v="rgba(0, 0, 0, 0.15)",darkColor:b="rgba(255, 255, 255, 0.15)",fontSize:_=20,fontWeight:w="normal",fontStyle:M="normal",fontFamily:I="sans-serif",textAlign:k="center"}=y,[j=100,C=100]=l,N=j/2,L=C/2,B=d?.[0]??N,E=d?.[1]??L;(0,m.useMemo)(()=>g.createMarkStyle(),[f,B,N,E,L]),(0,m.useEffect)(()=>{g.createWatermark()},[o,f,r,i,n,a,v,b,_,w,M,I,k,j,C,B,E]),(0,m.useEffect)(g.listenDarkMode,[]);let D=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_watermark fairys:relative fairys:overflow-hidden",c),[c]),F=(0,$.qq)([t,g.dom]);return(0,s.jsx)(eF.Provider,{value:g,children:(0,s.jsxs)("div",{...x,ref:F,className:D,children:[h,(0,s.jsx)(eR,{})]})})});class eP{activeKey;onChange;state=(0,r.sj)({activeKey:""});onSelected=e=>{this.state.activeKey=e.key,this.onChange?.(e.key,e)}}let eH=e=>{let t=(0,m.useRef)();return t.current||(e?t.current=e:t.current=new eP),t.current},e$=(0,m.createContext)(new eP),eZ=()=>{let e=(0,m.useContext)(e$),t=(0,N.R)(e.state);return[t,e,t.__defaultValue]},ez=(0,m.forwardRef)((e,t)=>{let{item:a}=e,r=a.disabled,[i,n]=eZ(),o=i.activeKey===a.key,l=a.iconProps,d=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_tabs_item fairys:relative fairys:flex-1 fairys:cursor-pointer fairys:px-2 fairys:py-1 fairys:transition-all fairys:duration-300",{"fairys:opacity-50":r,"fairys:text-white":o,"fairys:text-gray-600 fairys:dark:text-gray-400":!o}),[r,o]);return(0,s.jsxs)(W.E.div,{ref:t,className:d,onClick:e=>{e.preventDefault(),r||n.onSelected(a)},children:[o?(0,s.jsx)(W.E.div,{style:{width:"100%",height:"100%",position:"absolute",borderRadius:15,top:0,left:0},layoutId:"selected",initial:{backgroundColor:"var(--fairys-theme-color)"},animate:{backgroundColor:"var(--fairys-theme-color)"},transition:{duration:.3}}):(0,s.jsx)(m.Fragment,{}),(0,s.jsxs)("div",{className:"fairys_admin_tabs-item-content fairys:relative fairys:w-full fairys:h-full fairys:flex fairys:flex-row fairys:items-center fairys:justify-center fairys:gap-2",children:[a?.icon?(0,s.jsx)("div",{className:"fairys_admin_tabs-item-icon fairys:w-[26px] fairys:h-[26px] fairys:min-w-[26px] fairys:flex fairys:justify-center fairys:items-center",children:(0,s.jsx)(Z.JO,{...l,icon:a.icon,className:`fairys:w-[16px] fairys:h-[16px] ${l?.className||""}`})}):(0,s.jsx)(m.Fragment,{}),(0,s.jsx)("div",{children:a.title})]})]})}),eQ=(0,m.forwardRef)((e,t)=>{let{items:a,activeKey:r,onChange:i}=e,n=eH();n.onChange=i,(0,m.useMemo)(()=>{n.state.activeKey=r||""},[r]);let o=(0,m.useMemo)(()=>a.map(e=>(0,s.jsx)(ez,{item:e},e.key)),[a]),l=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_tabs fairys:flex fairys:flex-row fairys:justify-evenly fairys:my-2"),[]);return(0,s.jsx)(e$.Provider,{value:n,children:(0,s.jsx)("div",{ref:t,className:l,children:o})})}),eK=(0,m.forwardRef)((e,t)=>{let{icon:a,iconProps:r,extra:i,children:n,onCloseItem:o,isShowClose:l=!0,disabled:d=!1,isActive:f,bordered:y=!0,isTextEllipsis:c=!0,...h}=e,u=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_menu_item_base","fairys:shrink-0 fairys:text-gray-400 fairys:transition-all fairys:duration-300 fairys:flex fairys:flex-row fairys:items-center fairys:justify-between fairys:gap-1 fairys:py-[5px] fairys:px-[8px] fairys:mx-[5px] fairys:rounded-sm",{"fairys:opacity-70 fairys:select-none":d,"fairys:text-gray-600 fairys:cursor-pointer fairys:hover:text-gray-700 fairys:dark:text-gray-400 fairys:dark:hover:text-gray-300 fairys:dark:hover:bg-gray-700 fairys:hover:bg-gray-100":!d,"active fairys:bg-(--fairys-theme-color)! fairys:text-white!":f,"fairys:border-0":!y,"fairys:border fairys:border-gray-300 fairys:dark:border-gray-600":y}),[d,f,y]),p=(0,m.useMemo)(()=>(0,S.Z)("fairys:flex-1",{"fairys:truncate fairys:overflow-hidden fairys:whitespace-nowrap fairys:text-ellipsis fairys:break-all":c}),[c]);return(0,s.jsxs)("div",{ref:t,...h,className:u,title:"string"==typeof n?n:void 0,children:[(0,s.jsxs)("div",{className:"fairys:flex fairys:items-center fairys:flex-1 fairys:overflow-hidden",children:[a?(0,s.jsx)("span",{className:"fairys:size-[16px] fairys:mr-2",children:(0,s.jsx)(Z.JO,{...r,icon:a,className:`fairys:size-[16px] ${r?.className||""}`})}):(0,s.jsx)(m.Fragment,{}),(0,s.jsx)("div",{className:p,children:n})]}),(0,s.jsxs)("div",{className:"fairys:flex fairys:items-center",children:[i,l?(0,s.jsx)("span",{className:"fairys:icon-[ant-design--close-outlined] fairys:ml-2 fairys:text-gray-400 fairys:hover:text-gray-600 fairys:dark:hover:text-white fairys:dark:text-gray-500 fairys:transition-all fairys:duration-300",onClick:o}):(0,s.jsx)(m.Fragment,{})]})]})});class eU{onClickItem}let eW=e=>{let t=(0,m.useRef)();return t.current||(e?t.current=e:t.current=new eU),t.current},eV=(0,m.createContext)(new eU),eJ=()=>(0,m.useContext)(eV),eq=(0,m.forwardRef)((e,t)=>{let{item:a,className:r,isShowIcon:i=!0,...n}=e,o=eJ(),l=a.iconProps||{},d=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_notification_item fairys:rounded-sm fairys:p-2 fairys:gap-1 fairys:w-full fairys:flex fairys:items-start fairys:flex-row fairys:cursor-pointer fairys:hover:bg-gray-100 fairys:dark:hover:bg-gray-600 fairys:transition-all fairys:duration-300",r,{[`fairys_admin_notification_item-${a?.type}`]:a?.type}),[a?.type,r]);return(0,s.jsxs)("div",{ref:t,...n,className:d,onClick:e=>{e.stopPropagation(),e.preventDefault(),o.onClickItem?.(a)},children:[i?(0,s.jsx)("div",{className:"fairys_admin_notification_item-icon fairys:shrink-0 fairys:w-[32px] fairys:h-full fairys:min-w-[32px] fairys:flex fairys:justify-center fairys:box-border fairys:pt-1",children:a?.icon?(0,s.jsx)(Z.JO,{...l,icon:a.icon,className:`fairys:w-[16px] fairys:h-[16px] ${l?.className||""}`}):(0,s.jsx)(m.Fragment,{})}):(0,s.jsx)(m.Fragment,{}),(0,s.jsxs)("div",{className:"fairys_admin_notification_item_content fairys:flex fairys:flex-col fairys:flex-1 fairys:overflow-hidden",children:[(0,s.jsx)("div",{className:"fairys_admin_notification_item_content_title fairys:text-[14px] fairys:font-medium fairys:line-clamp-2 fairys:w-full",title:a?.title,children:a?.title}),(0,s.jsx)("div",{className:"fairys_admin_notification_item_content_date fairys:text-[12px] fairys:text-gray-400 fairys:break-words",children:a?.date})]})]})}),eY=(0,m.forwardRef)((e,t)=>{let{items:a,className:r,isShowIcon:i,onClickItem:n,...o}=e,l=eW();l.onClickItem=n;let d=(0,m.useMemo)(()=>(0,S.Z)("fairys_admin_notification_list fairys:min-w-[200px] fairys:bg-white fairys:dark:bg-gray-800 fairys:rounded-sm fairys:flex fairys:flex-col",r),[r]),f=(0,m.useMemo)(()=>(a||[]).map(e=>(0,s.jsx)(eq,{item:e,isShowIcon:i},e.id)),[a,i]);return(0,s.jsx)(eV.Provider,{value:l,children:(0,s.jsx)("div",{ref:t,...o,className:d,children:f})})}),eX="fairys_admin_sub_menu fairys:shrink-0 fairys:flex fairys:flex-col fairys:gap-y-[2px] ",eG=e=>{let{item:t,level:a=0,isMain:s=!1}=e,[r]=useMenuData(),i=r.expandItems,n=r.mainExpandItem,[o]=useSetting(),l=o.sideMenuMode,[d,f]=useState(!1),m=useMemo(()=>s?n?.path===t.path:!!i.find(e=>e.path===t.path),[i,t.path,s,n]),y=useMemo(()=>t.items?.map(e=>Array.isArray(e.items)?jsx(eG,{item:e,level:a+1},e.path):jsx(MenuItem,{item:e,level:a+1},e.path)),[t.items,a,s]);return"close"!==l?jsxs("div",{className:eX,children:[s?jsx(MainMenuItem,{item:t}):jsx(MenuItem,{item:t,level:a,isSubMenu:!0,isExpand:m}),jsx(FairysDisclosureItem,{open:!!s||m,className:"fairys_admin_sub_menu_body fairys:shrink-0 fairys:flex fairys:flex-col fairys:gap-y-[2px]",children:y})]}):jsx("div",{className:eX,children:jsx(FairysPopoverBase,{className:"fairys_admin_sub_menu_popover",eventName:"hover",content:jsx("div",{className:"fairys_admin_sub_menu_body fairys:shrink-0 fairys:flex fairys:flex-col fairys:gap-y-[2px] fairys:p-[5px]",children:y}),onOpenChange:f,placement:"right-start",isNotMinWidth:!0,children:s?jsx(MainMenuItem,{item:t}):jsx(MenuItem,{item:t,level:a,isSubMenu:!0,isExpand:d})})})};a(50)}}]);