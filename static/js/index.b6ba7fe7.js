(()=>{"use strict";var e={2655:function(e,t,a){var r=a(1085),s=a(5873),i=a(4349),n=a(4041);let l=e=>{let{className:t,isBg:a,bordered:s=!1,...l}=e,o=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_button_base ",["outline-0","flex items-center justify-center min-w-[36px] min-h-[36px] rounded-sm cursor-pointer","transition-all duration-300","hover:bg-gray-200 dark:hover:bg-gray-600 ",a&&"bg-gray-200 dark:bg-gray-600"],{"border-0":!s,"border border-gray-300 dark:border-gray-600":s,"bg-transparent":!a&&!s},t),[t,s,a]);return(0,r.jsx)("button",{...l,className:o})};var o=a(438),d=a(2520),m=a(8836);class c{constructor(){(0,o._)(this,"state",(0,d.BX)({open:!1,layoutMode:"main_top_sub_left_header",pageTransitionMode:"滑动",sideMenuMode:"open"})),(0,o._)(this,"initSetting",e=>{let t={layoutMode:"main_top_sub_left_header",...e,...this.state};this.state=(0,d.BX)({...t,projectName:e.projectName,logo:e.logo}),this.state.themeColor&&document.body.setAttribute("style",`--theme-color:${this.state.themeColor}`),this.autoListenSystemTheme()}),(0,o._)(this,"mediaQueryList",null),(0,o._)(this,"setDocumentAndBodyTheme",()=>{let e=this.state.theme;e&&(document.documentElement&&(document.documentElement.classList.remove("dark"===e?"light":"dark"),document.documentElement.classList.add(e)),document.body&&(document.body.classList.remove("dark"===e?"light":"dark"),document.body.classList.add(e)))}),(0,o._)(this,"onListenChangeSystemTheme",e=>{this.updated({theme:e.matches?"dark":"light"}),this.setDocumentAndBodyTheme()}),(0,o._)(this,"autoListenSystemTheme",()=>{if(this.state.autoListenSystemTheme)this.mediaQueryList?this.mediaQueryList.removeEventListener("change",this.onListenChangeSystemTheme):this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.updated({theme:this.mediaQueryList.matches?"dark":"light"}),this.setDocumentAndBodyTheme(),this.mediaQueryList.addEventListener("change",this.onListenChangeSystemTheme);else{var e;null==(e=this.mediaQueryList)||e.removeEventListener("change",this.onListenChangeSystemTheme),this.mediaQueryList=null}}),(0,o._)(this,"updatedThemeColor",e=>{this.updated({themeColor:e}),e?document.body.setAttribute("style",`--theme-color:${e}`):document.body.removeAttribute("style")}),(0,o._)(this,"updated",e=>{let t={};try{t=JSON.parse(localStorage.getItem(c.localStorageKey)||"{}")}catch(e){console.log(e)}for(let a in e){let r=e[a];this.state[a]=r,"open"!==a&&(t[a]=r),"theme"===a&&this.setDocumentAndBodyTheme()}localStorage.setItem(c.localStorageKey,JSON.stringify(t))}),(0,o._)(this,"onToggleAutoListenSystemTheme",e=>{this.updated({autoListenSystemTheme:e}),this.autoListenSystemTheme()}),(0,o._)(this,"onToggleTheme",e=>{"system"===e?this.updated({autoListenSystemTheme:!0}):this.updated({theme:e,autoListenSystemTheme:!1}),this.autoListenSystemTheme()}),(0,o._)(this,"isMainSubMenuMode",()=>"main_sub_left"===this.state.layoutMode||"main_left"===this.state.layoutMode||"main_top_header"===this.state.layoutMode||"main_top_sub_left_header"===this.state.layoutMode),(0,o._)(this,"onToggleOpen",()=>{this.updated({open:!this.state.open})}),(0,o._)(this,"clear",()=>{});let e=localStorage.getItem(c.localStorageKey);if(e)try{let t=JSON.parse(e);for(let e in t){let a=t[e];this.state[e]=a}}catch(e){console.log(e)}}}(0,o._)(c,"localStorageKey","fairys_setting_state");let h=new c,u=()=>{let e=(0,m.s)(h.state);return[e,h,e.__defaultValue]},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=[];for(let s=0;s<e.length;s++){let i=e[s];r.push(i),i.path&&a.set(i.path,[...t].concat(i)),Array.isArray(i.children)&&r.push(...p(i.children,[...t].concat(i),a))}return r},x=new class{constructor(){(0,o._)(this,"_menuItems",[]),(0,o._)(this,"_flatMenuItems",[]),(0,o._)(this,"_parentMenuItemMap",new Map),(0,o._)(this,"state",(0,d.BX)({menuItems:[],mainMenuItems:[],mainMenuItemSelected:"",expandItems:[],mainExpandItem:void 0,searchMenuItems:[]})),(0,o._)(this,"ctor",e=>{this._menuItems=e,this._flatMenuItems=p(e,[],this._parentMenuItemMap),this.state.menuItems=(0,d.KR)(e),this.state.mainMenuItems=(0,d.KR)(e.filter(e=>e.isMain)),this.state.searchMenuItems=(0,d.KR)([...this._flatMenuItems].filter(e=>!e.isMain))}),(0,o._)(this,"updateMainExpandItem",e=>{this.state.mainExpandItem=e}),(0,o._)(this,"get_path_menuItem",e=>this._flatMenuItems.find(t=>t.path===e)),(0,o._)(this,"onSearch",e=>{let t=`${e||""}`.trim();if(!t){this.state.searchMenuItems=(0,d.KR)([...this._flatMenuItems].filter(e=>!e.isMain));return}this.state.searchMenuItems=(0,d.KR)(this._flatMenuItems.filter(e=>!e.isMain).filter(e=>e.title.includes(t)))}),(0,o._)(this,"isParentMenuItem",(e,t)=>{let a=this._parentMenuItemMap.get(t);return!!a&&!!a.find(t=>t.path===e)}),(0,o._)(this,"clearExpandItems",()=>{this.state.expandItems=(0,d.KR)([])}),(0,o._)(this,"onExpandItems",e=>{if(!this.get_path_menuItem(e))return;if(0===this.state.expandItems.length){let t=this._parentMenuItemMap.get(e)||[];this.state.expandItems=(0,d.KR)([...t]);return}let t=this.get_path_menuItem(e),a=this._parentMenuItemMap.get(e)||[];Array.isArray(null==t?void 0:t.children)&&t.children.length?this.state.expandItems=(0,d.KR)([...a]):this.state.expandItems=((e,t)=>{let a=e.length,r=t.length;return a===r||r>a?t:t.slice(0,r-1).map(e=>e.path).join("_")===e.slice(0,r-1).map(e=>e.path).join("_")?e:t})(this.state.expandItems,a)}),(0,o._)(this,"onCollapseItems",e=>{this.state.expandItems=(0,d.KR)(this.state.expandItems.filter(t=>t.path!==e))}),(0,o._)(this,"onToggleItems",e=>{this.state.expandItems.find(t=>t.path===e)?this.onCollapseItems(e):this.onExpandItems(e)}),(0,o._)(this,"isExpand",e=>!!this.state.expandItems.find(t=>t.path===e)),(0,o._)(this,"updateChildMenus",e=>{if(h.isMainSubMenuMode()){var t;let a=this.state.mainMenuItemSelected,r=this._parentMenuItemMap.get(e),s=null==r||null==(t=r[0])?void 0:t.path;if(s&&s!==a){this.state.mainMenuItemSelected=s;let e=this.state.mainMenuItems.find(e=>e.path===s);e&&(this.state.menuItems=(0,d.KR)(e.children))}}}),(0,o._)(this,"onMainMenu",e=>{let t=this.state.mainMenuItems.find(t=>t.path===e);t&&Array.isArray(t.children)&&(this.state.menuItems=(0,d.KR)(t.children),this.state.mainMenuItemSelected=e)}),(0,o._)(this,"clear",()=>{this.state.menuItems=(0,d.KR)([]),this.state.mainMenuItems=(0,d.KR)([]),this.state.mainMenuItemSelected="",this.state.expandItems=(0,d.KR)([]),this.state.mainExpandItem=void 0,this.state.searchMenuItems=(0,d.KR)([])})}},f=()=>{let e=(0,m.s)(x.state);return[e,x,e.__defaultValue]};class g{constructor(){(0,o._)(this,"dom",(0,n.createRef)()),(0,o._)(this,"item",void 0),(0,o._)(this,"isSubMenu",void 0),(0,o._)(this,"isActive",!1),(0,o._)(this,"close",void 0),(0,o._)(this,"scrollIntoView",()=>{var e;null==(e=this.dom.current)||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})})}}class v{constructor(){(0,o._)(this,"dom",(0,n.createRef)()),(0,o._)(this,"menuItems",[]),(0,o._)(this,"state",(0,d.BX)({menuModeExpandCollapse:"open"})),(0,o._)(this,"setMenuModeExpandCollapse",e=>{this.state.menuModeExpandCollapse=e}),(0,o._)(this,"register",e=>(this.menuItems.push(e),()=>{this.menuItems=this.menuItems.filter(t=>t!==e)})),(0,o._)(this,"resizeObserverCallback",()=>{for(let e=0;e<this.menuItems.length;e++){let t=this.menuItems[e];t.isActive&&t.scrollIntoView()}}),(0,o._)(this,"resizeObserver",()=>{let e=new ResizeObserver(this.resizeObserverCallback);return this.dom.current&&e.observe(this.dom.current),()=>{e.disconnect()}}),(0,o._)(this,"addEventListener",()=>{let e=this.resizeObserver();return()=>{e()}})}}let _=(0,n.createContext)(new v),y=()=>{let e=(0,n.useContext)(_),t=(0,m.s)(e.state),a=t.menuModeExpandCollapse;return[t,e,a]};var b=a(9059);let j=e=>{let{items:t,separate:a="bg",className:s,itemClassName:l,itemStyle:o,...d}=e,m=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_breadcrumb relative flex items-center min-h-[36px] py-[8px] box-border",s,{[a]:!!a}),[a,s]),c=(0,n.useMemo)(()=>(t||[]).map((e,s)=>{let n=s===t.length-1,d=(0,i.A)("fairys_admin_breadcrumb_item transition-all duration-300 relative cursor-pointer rounded-sm py-[6px] px-[14px] max-w-[150px] overflow-hidden text-ellipsis whitespace-nowrap ",{"text-gray-500 hover:text-gray-500":n,"text-gray-400 hover:text-gray-500":!n,"bg-gray-100 hover:bg-gray-100":n&&"bg"===a,"bg-gray-100 hover:bg-gray-200":!n&&"bg"===a,"dark:text-gray-300 dark:hover:text-gray-200":n,"dark:text-gray-400 dark:hover:text-gray-300":!n,"dark:bg-gray-800 dark:hover:bg-gray-700":"bg"===a,'after:text-gray-200 dark:after:text-gray-600 after:content-["/"]':"slash"===a},l);return(0,r.jsx)("div",{style:o,title:e.title,className:d,children:e.title},e.path)}),[t,o]);return(0,r.jsx)("div",{...d,className:m,children:c})},w=()=>{let e=(0,b.zy)(),t=(0,n.useMemo)(()=>x._parentMenuItemMap.get(e.pathname),[e.pathname]);return t?(0,r.jsx)(j,{items:t}):(0,r.jsx)(n.Fragment,{})};var M=a(9058),I=a(7943);let k=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,n.useState)(e);return{show:(0,n.useMemo)(()=>!!t||e,[t,e]),onAnimationComplete:e=>{a("open"===e)},setStatus:a}},N=e=>{let{children:t,open:a,className:s,...i}=e,{show:n,onAnimationComplete:l}=k(a);return(0,r.jsx)(M.N,{initial:!1,mode:"wait",children:n&&(0,r.jsx)(I.P.div,{...i,className:s,initial:"collapsed",animate:a?"open":"collapsed",variants:{open:{scale:1,rotate:0,opacity:1,height:"auto"},collapsed:{scale:.5,rotate:45,opacity:0,height:0}},transition:{duration:.35},onAnimationComplete:l,children:t})})};var C=a(6398);class A{constructor(){(0,o._)(this,"state",(0,d.BX)({darkMode:!1})),(0,o._)(this,"setDarkMode",e=>{this.state.darkMode=e})}}let B=(0,n.createContext)(new A),S=e=>{let{children:t}=e,[a,r]=(()=>{let e=(0,n.useContext)(B);return[(0,m.s)(e.state),e]})(),s=a.darkMode;return(0,n.createElement)(B.Provider,{children:n.Children.map(t,e=>{let t=null==e?void 0:e.props;return n.isValidElement(e)?(0,n.cloneElement)(e,{className:(0,i.A)(null==t?void 0:t.className,"transition-all duration-300",{dark:s})}):e}),value:r})},E=e=>{let{children:t,darkMode:a,darkModeInstance:r}=e,s=(e=>{let t=(0,n.useRef)();return t.current||(e?t.current=e:t.current=new A),t.current})(r);return(0,n.useEffect)(()=>{s.setDarkMode(a)},[a,s]),(0,n.createElement)(B.Provider,{children:t,value:s})},O={open:{scale:1,rotate:0,opacity:1,height:"auto"},collapsed:{scale:.5,rotate:45,opacity:0,height:0},initial:{scale:.5,rotate:45,opacity:0,height:0}},R={duration:.35};var T=a(5792),F=a(3840);class L{constructor(){(0,o._)(this,"onOpenChange",()=>void 0)}}let z=e=>{let t=(0,n.useRef)();return t.current||(e?t.current=e:t.current=new L),t.current},D=(0,n.createContext)(new L),P=e=>{let{children:t,open:a,content:s,onOpenChange:l,placement:o="right-start",style:d,variants:m,transition:c,isUseDismiss:h=!0,useDismissProps:u={},isUseHover:p=!1,useHoverProps:x={},popoverInstance:f,domRef:g,onAnimationComplete:v,flipOptions:_,shiftOptions:y,isFocusReference:b,...j}=e,{floating:w,bodyClasName:N,show:A,onAnimationComplete:B,popoverInstance:E}=(e=>{let{open:t,onOpenChange:a,placement:r,className:s,popoverInstance:l,flipOptions:o,shiftOptions:d}=e,{show:m,onAnimationComplete:c}=k(t),h=z(l);return h.onOpenChange=a,{floating:(0,C.we)({open:m,placement:r,whileElementsMounted:T.ll,onOpenChange:t=>{var a;e.open!==t&&(null==(a=h.onOpenChange)||a.call(h,t))},middleware:[(0,F.UU)(o),(0,F.BN)(d),(0,F.Ej)({apply(e){let{availableWidth:t,availableHeight:a,elements:r}=e;Object.assign(r.floating.style,{overflow:"auto",maxWidth:`${t}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${a}px)`})}})]}),bodyClasName:(0,n.useMemo)(()=>(0,i.A)("fairys_admin_popover no-scrollbar",s,["rounded-sm bg-white dark:bg-gray-800! shadow-xl inset-shadow-sm"]),[s]),show:m,onAnimationComplete:c,popoverInstance:h}})({flipOptions:_,shiftOptions:y,open:a,onOpenChange:l,placement:o,className:e.className,popoverInstance:f}),L=(0,n.useRef)(null),{refs:P,context:K,floatingStyles:$}=w,V=(p?C.Mk:C.s9)(K,p?{handleClose:(0,C.iB)(),...x}:{outsidePress:!0,bubbles:{outsidePress:!0},...u}),{getReferenceProps:X,getFloatingProps:Q}=(0,C.bv)([V]),H=(0,C.SV)([P.setReference,g]);return(0,r.jsxs)(n.Fragment,{children:[n.Children.map(t,e=>n.isValidElement(e)?(0,n.cloneElement)(e,{ref:H,...X()}):e),A?(0,r.jsx)(C.XF,{children:(0,r.jsx)(D.Provider,{value:E,children:(0,r.jsx)(S,{children:(0,r.jsx)("div",{children:(0,r.jsx)(M.N,{children:(0,r.jsx)("div",{...j,ref:P.setFloating,style:{...d||{},...$},className:N,...Q(),children:(0,r.jsx)(I.P.div,{ref:L,initial:"collapsed",animate:a?"open":"collapsed",variants:{...O,...m},transition:{...R,...c},onAnimationComplete:e=>{B(e),null==v||v(e)},children:s})})})})})})}):(0,r.jsx)(n.Fragment,{})]})},K=new class{constructor(){(0,o._)(this,"router",void 0),(0,o._)(this,"__navigate",void 0),(0,o._)(this,"onNavigateBefore",void 0),(0,o._)(this,"navigate",async(e,t)=>{let a=this.__navigate||this.router.navigate;if(!a)return console.warn("请先初始化路由"),Promise.resolve();if("number"==typeof e)return null==a?void 0:a(e);let r=!0;return(this.onNavigateBefore&&(r=await this.onNavigateBefore(e)),r)?null==a?void 0:a(e,t):Promise.resolve()}),(0,o._)(this,"createBrowserRouter",(e,t)=>{let a=(0,b.Ys)(e,t);return this.__navigate=a.navigate,a.navigate=this.navigate,this.router=a,a}),(0,o._)(this,"createMemoryRouter",(e,t)=>{let a=(0,b.bg)(e,t);return this.__navigate=a.navigate,a.navigate=this.navigate,this.router=a,a}),(0,o._)(this,"createHashRouter",(e,t)=>{let a=(0,b.Ge)(e,t);return this.__navigate=a.navigate,a.navigate=this.navigate,this.router=a,a}),(0,o._)(this,"clear",()=>{this.router=void 0,this.__navigate=void 0})}},$=new class{constructor(){(0,o._)(this,"state",(0,d.BX)({tabBarItems:[],dropDownTabBarItems:[],pageFullScreen:!1})),(0,o._)(this,"ctor",e=>{this.state.tabBarItems=(0,d.KR)(e)}),(0,o._)(this,"addItem",e=>{this.state.tabBarItems.find(t=>t.path===e.path)||(this.state.tabBarItems=(0,d.KR)([...this.state.tabBarItems,e]))}),(0,o._)(this,"add",e=>{if(!this.state.tabBarItems.find(t=>t.path===e)){let t=x.get_path_menuItem(e);t&&(this.state.tabBarItems=(0,d.KR)([...this.state.tabBarItems,t]))}}),(0,o._)(this,"remove",(e,t)=>{if(t){let t=this.state.tabBarItems.findIndex(t=>t.path===e);this.state.tabBarItems=(0,d.KR)(this.state.tabBarItems.filter(t=>t.path!==e));let a=this.state.tabBarItems[t];a||(a=this.state.tabBarItems[this.state.tabBarItems.length-1]),a&&K.navigate(a.path)}else this.state.tabBarItems=(0,d.KR)(this.state.tabBarItems.filter(t=>t.path!==e));U.aliveController&&U.aliveController.drop(e)}),(0,o._)(this,"onToggleFullScreen",()=>{this.state.pageFullScreen=!this.state.pageFullScreen}),(0,o._)(this,"removeOther",(e,t)=>{if(!t){let t=this.state.tabBarItems.find((t,a)=>a===e);t&&K.navigate(t.path)}let a=this.state.tabBarItems.filter((t,a)=>a!==e).map(e=>e.path);this.state.tabBarItems=(0,d.KR)(this.state.tabBarItems.filter((t,a)=>a===e)),U.aliveController&&U.aliveController.dropScopeByIds(a)}),(0,o._)(this,"removeLeft",(e,t)=>{if(!t){let t=this.state.tabBarItems.find((t,a)=>a===e);t&&K.navigate(t.path)}let a=this.state.tabBarItems.filter((t,a)=>a<e).map(e=>e.path);this.state.tabBarItems=(0,d.KR)(this.state.tabBarItems.filter((t,a)=>a>=e)),U.aliveController&&U.aliveController.dropScopeByIds(a)}),(0,o._)(this,"removeRight",(e,t)=>{if(!t){let t=this.state.tabBarItems.find((t,a)=>a===e);t&&K.navigate(t.path)}let a=this.state.tabBarItems.filter((t,a)=>a>e).map(e=>e.path);this.state.tabBarItems=(0,d.KR)(this.state.tabBarItems.filter((t,a)=>a<=e)),U.aliveController&&U.aliveController.dropScopeByIds(a)}),(0,o._)(this,"clear",()=>{this.state.tabBarItems=(0,d.KR)([]),this.state.pageFullScreen=!1,this.state.dropDownTabBarItems=(0,d.KR)([])})}},V=()=>{let e=(0,m.s)($.state);return[e,$,e.__defaultValue]};class X{constructor(){(0,o._)(this,"dom",(0,n.createRef)()),(0,o._)(this,"item",void 0),(0,o._)(this,"isActive",!1),(0,o._)(this,"scrollIntoView",()=>{var e;null==(e=this.dom.current)||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})})}}class Q{constructor(){(0,o._)(this,"dom",(0,n.createRef)()),(0,o._)(this,"tabBarItems",[]),(0,o._)(this,"register",e=>(this.tabBarItems.push(e),()=>{this.tabBarItems=this.tabBarItems.filter(t=>t!==e)})),(0,o._)(this,"timer",void 0),(0,o._)(this,"updateDropDownTabBarItems",()=>{clearTimeout(this.timer),this.timer=setTimeout(()=>{var e;let t=this.tabBarItems||[],a=null==(e=this.dom.current)?void 0:e.getBoundingClientRect(),r=[];for(let e=0;e<t.length;e++){let s=t[e];if(s.dom.current){let e=s.dom.current.getBoundingClientRect(),t=e.width/2;e.left>=a.left-t&&e.right<=a.right+t||r.push(s.item)}}$.state.dropDownTabBarItems=(0,d.KR)(r),clearTimeout(this.timer)},500)}),(0,o._)(this,"mutationObserverCallback",()=>{this.updateDropDownTabBarItems()}),(0,o._)(this,"resizeObserverCallback",()=>{for(let e=0;e<this.tabBarItems.length;e++){let t=this.tabBarItems[e];t.isActive&&t.scrollIntoView()}this.updateDropDownTabBarItems()}),(0,o._)(this,"mutationObserver",()=>{let e=new MutationObserver(this.mutationObserverCallback);return this.dom.current&&e.observe(this.dom.current,{childList:!0,subtree:!0}),()=>{e.disconnect()}}),(0,o._)(this,"resizeObserver",()=>{let e=new ResizeObserver(this.resizeObserverCallback);return this.dom.current&&e.observe(this.dom.current),()=>{e.disconnect()}}),(0,o._)(this,"addEventListener",()=>{let e=this.mutationObserver(),t=this.resizeObserver();return this.updateDropDownTabBarItems(),this.dom.current&&this.dom.current.addEventListener("scrollend",this.updateDropDownTabBarItems),()=>{this.dom.current&&this.dom.current.removeEventListener("scrollend",this.updateDropDownTabBarItems),e(),t()}})}}let H=(0,n.createContext)(new Q),q=new class{constructor(){(0,o._)(this,"state",(0,d.BX)({userName:"fairys"})),(0,o._)(this,"updated",e=>{for(let t in e){let a=e[t];if("info"===t){let a=(0,d.KR)(e.info||{});this.state[t]=a}else this.state[t]=a}}),(0,o._)(this,"clear",()=>{for(let e in this.state)this.state[e]=void 0,"userName"===e&&(this.state[e]="fairys")})}},Z=new class{constructor(){(0,o._)(this,"state",[{name:"无动画",config:{}},{name:"淡入淡出",config:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}}},{name:"滑动",config:{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5,ease:"easeOut"}}},{name:"3D翻转",config:{initial:{rotateY:90,opacity:0},animate:{rotateY:0,opacity:1},exit:{rotateY:-90,opacity:0},transition:{duration:.6},style:{transformStyle:"preserve-3d"}}},{name:"缩放",config:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.5}}},{name:"其他",config:{initial:{y:100,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:-100,opacity:0,scale:.9},transition:{duration:.7,ease:[.6,.01,-.05,.9]}}}]),(0,o._)(this,"expands",e=>{let t=this.state.filter(t=>!e.some(e=>e.name===t.name));this.state=[...t,...e]}),(0,o._)(this,"getAnimationConfig",e=>{var t;return(null==(t=this.state.find(t=>t.name===e))?void 0:t.config)||{}})}};class Y{constructor(){(0,o._)(this,"aliveController",void 0),(0,o._)(this,"clear",()=>{K.clear(),h.clear(),x.clear(),$.clear(),q.clear(),this.aliveController.clear()})}}(0,o._)(Y,"router",K),(0,o._)(Y,"setting",h),(0,o._)(Y,"menu",x),(0,o._)(Y,"tabBar",$),(0,o._)(Y,"account",q),(0,o._)(Y,"motionAnimation",Z);let U=new Y;class J{constructor(){(0,o._)(this,"aliveController",void 0),(0,o._)(this,"clear",()=>{var e,t;null==(t=this.aliveController)||null==(e=t.clear)||e.call(t)}),(0,o._)(this,"drop",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.drop)||t.call(a,J.convertIdOrNameOne(e))}),(0,o._)(this,"dropById",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.dropById)||t.call(a,J.convertIdOrNameOne(e))}),(0,o._)(this,"dropScope",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.dropScope)||t.call(a,e)}),(0,o._)(this,"dropScopeByIds",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.dropScopeByIds)||t.call(a,J.convertIdOrNameList(e))}),(0,o._)(this,"refresh",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.refresh)||t.call(a,J.convertIdOrNameOne(e))}),(0,o._)(this,"refreshById",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.refreshById)||t.call(a,J.convertIdOrNameOne(e))}),(0,o._)(this,"refreshScope",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.refreshScope)||t.call(a,J.convertIdOrNameOne(e))}),(0,o._)(this,"refreshScopeByIds",e=>{var t,a;null==(a=this.aliveController)||null==(t=a.refreshScopeByIds)||t.call(a,J.convertIdOrNameList(e))}),(0,o._)(this,"getCachingNodes",()=>{var e,t;return null==(t=this.aliveController)||null==(e=t.getCachingNodes)?void 0:e.call(t)})}}(0,o._)(J,"convertIdOrNameOne",e=>`fairys_admin_keep_alive_${e}`),(0,o._)(J,"convertIdOrNameList",e=>e.map(e=>J.convertIdOrNameOne(e)));let G=new J,W=new class{constructor(){(0,o._)(this,"state",(0,d.BX)({status:"Login"})),(0,o._)(this,"updatedStatus",e=>{this.state.status=e}),(0,o._)(this,"onLogout",()=>void 0),(0,o._)(this,"_onLogout",()=>{var e;this.updatedStatus("Login"),U.clear(),null==(e=this.onLogout)||e.call(this)})}};var ee=a(9354);class et{constructor(){(0,o._)(this,"isHideClose",!0),(0,o._)(this,"onClickItem",void 0),(0,o._)(this,"onCloseItem",void 0),(0,o._)(this,"items",void 0),(0,o._)(this,"mode",void 0),(0,o._)(this,"state",(0,d.BX)({value:void 0})),(0,o._)(this,"isChecked",e=>!!this.state.value&&(Array.isArray(this.state.value)?this.state.value.includes(e.value||""):this.state.value===e.value))}}let ea=(0,n.createContext)(new et),er={open:{scale:1,rotate:0,opacity:1,height:"auto"},collapsed:{scale:.5,rotate:45,opacity:0,height:0}},es={duration:.5},ei=(0,n.forwardRef)((e,t)=>{let{label:a,children:s,onOpenChange:l,motionClassName:o,className:d,eventName:m,disabled:c=!1}=e,[h,u]=(0,n.useState)(!1),{show:p,onAnimationComplete:x}=k(h),f=e=>{null==l||l(e),u(e)},g=(0,C.cq)(),v=(0,C.fI)(),_=(0,C.R1)(),y=null!=_,[b,j]=(0,n.useState)(!1),{floatingStyles:w,refs:N,context:A}=(0,C.we)({nodeId:v,open:h,onOpenChange:f,placement:y?"right-start":"bottom-start",middleware:[(0,F.Ej)(),(0,F.cY)({mainAxis:4*!y,alignmentAxis:y?-4:0}),(0,F.UU)(),(0,F.BN)()],whileElementsMounted:T.ll}),B=(0,C.Mk)(A,{enabled:!c&&y&&b,delay:{open:75},handleClose:(0,C.iB)({blockPointerEvents:!0})}),E=("contextMenu"===m?function(){return{}}:C.kp)(A,{event:"mousedown",toggle:!y||!b,ignoreMouse:y,enabled:!c}),O=(0,C.It)(A,{role:"menu"}),R=(0,C.s9)(A,{bubbles:!0}),{getReferenceProps:L,getFloatingProps:z}=(0,C.bv)([B,E,O,R]);(0,n.useEffect)(()=>{if(g)return g.events.on("click",e),g.events.on("menuopen",t),()=>{g.events.off("click",e),g.events.off("menuopen",t)};function e(){f(!1)}function t(e){e.nodeId!==v&&e.parentId===_&&f(!1)}},[g,v,_]),(0,n.useEffect)(()=>{h&&g&&g.events.emit("menuopen",{parentId:_,nodeId:v})},[g,h,v,_]),(0,n.useEffect)(()=>{function e(e){let{pointerType:t}=e;"touch"!==t&&j(!0)}function t(){j(!1)}return window.addEventListener("pointermove",e,{once:!0,capture:!0}),window.addEventListener("keydown",t,!0),()=>{window.removeEventListener("pointermove",e,{capture:!0}),window.removeEventListener("keydown",t,!0)}},[b]);let D=(0,C.SV)([N.setReference,t]),P=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_popover-menu-component-base no-scrollbar",d,["rounded-sm bg-transparent!"]),[d]),K=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_popover-menu-component-base-motion overflow-hidden","flex flex-col relative border border-gray-100 dark:border-gray-700 rounded-md gap-1 py-[5px]",o,["min-w-[120px] rounded-sm bg-white dark:bg-gray-800! shadow-xl inset-shadow-sm"]),[o]);return(0,r.jsxs)(C.$c,{id:v,children:[n.Children.map(a,e=>n.isValidElement(e)?(0,n.cloneElement)(e,{ref:D,...L({onContextMenu:e=>{"contextMenu"===m&&(e.preventDefault(),A.onOpenChange(!0,e.nativeEvent,"click"))}})}):e),p?(0,r.jsx)(C.XF,{children:(0,r.jsx)(S,{children:(0,r.jsx)("div",{children:(0,r.jsx)(M.N,{children:(0,r.jsx)("div",{ref:N.setFloating,style:w,className:P,...z(),children:(0,r.jsx)(I.P.div,{initial:"collapsed",animate:h?"open":"collapsed",variants:er,transition:es,onAnimationComplete:x,className:K,children:s})})})})})}):(0,r.jsx)(n.Fragment,{})]})}),en=(0,n.forwardRef)((e,t)=>{let{rowItemData:a,isSubMenuItem:s=!1}=e,l=(0,C.cq)(),[o,d]=(()=>{let e=(0,n.useContext)(ea),t=(0,m.s)(e.state);return[t,e,t.__defaultValue]})(),c=(0,n.useMemo)(()=>d.isChecked(a),[o.value]),h=(0,n.useMemo)(()=>(0,i.A)("popover-menu-item","shrink-0 text-gray-400 transition-all duration-300 flex flex-row items-center justify-between gap-1 py-[5px] px-[8px] mx-[5px] rounded-sm",{"opacity-70 select-none":a.disabled,"text-gray-600 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700 hover:bg-gray-100":!a.disabled,"active bg-(--theme-color)! text-white!":c,"dark:bg-gray-700/75 bg-gray-100/75 text-gray-600!":!a.disabled&&s}),[c,a,s]);return(0,r.jsxs)("div",{ref:t,onClick:e=>{var t,r;a.disabled||s||(e.preventDefault(),null==(t=d.onClickItem)||t.call(d,a,e),null==(r=a.onClick)||r.call(a,a,e),"multiple"!==d.mode&&l.events.emit("click"))},className:h,children:[(0,r.jsxs)("div",{className:"flex items-center flex-1",children:[a.icon?(0,r.jsx)("span",{className:"size-[16px] mr-2",children:(0,r.jsx)(ee.In,{icon:a.icon,className:"size-[16px]"})}):(0,r.jsx)(n.Fragment,{}),(0,r.jsx)("div",{children:a.title})]}),(0,r.jsx)("div",{children:s?(0,r.jsx)("span",{className:"icon-[ant-design--right-outlined] ml-5 text-gray-400 hover:text-gray-600 dark:hover:text-white dark:text-gray-500 transition-all duration-300"}):d.isHideClose?(0,r.jsx)(n.Fragment,{}):(0,r.jsx)("span",{className:"icon-[ant-design--close-outlined] ml-5 text-gray-400 hover:text-gray-600 dark:hover:text-white dark:text-gray-500 transition-all duration-300",onClick:e=>{var t,r;a.disabled||(e.preventDefault(),null==(t=d.onCloseItem)||t.call(d,a,e),null==(r=a.onCloseItem)||r.call(a,a,e))}})})]})}),el=(0,n.forwardRef)((e,t)=>{let{label:a,onOpenChange:s}=e,i=(0,C.R1)(),{rowItemData:l}=e,{items:o}=l,d=(0,n.useMemo)(()=>(o||[]).map((e,t)=>eo(e,t)),[o]);return null===i?(0,r.jsx)(C.P6,{children:(0,r.jsx)(ei,{disabled:l.disabled,onOpenChange:s,ref:t,label:a||(0,r.jsx)(en,{rowItemData:l,isSubMenuItem:!0}),children:d})}):(0,r.jsx)(ei,{ref:t,onOpenChange:s,disabled:l.disabled,label:a||(0,r.jsx)(en,{rowItemData:l,isSubMenuItem:!0}),children:d})}),eo=(e,t)=>e.children?(0,r.jsx)(n.Fragment,{children:e.children},e.path||e.title||e.key||t):!1===e.visible?(0,r.jsx)(n.Fragment,{},e.path||e.title||e.key||t):e.isDivider?(0,r.jsx)("div",{className:"w-full h-[1px] bg-gray-100 dark:bg-gray-700"},e.path||e.title||e.key||t):Array.isArray(e.items)?(0,r.jsx)(el,{rowItemData:e},e.path||e.title||e.key||t):(0,r.jsx)(en,{rowItemData:e},e.path||e.title||e.key||t),ed=(0,n.forwardRef)((e,t)=>{let{items:a,children:s,onOpenChange:i,onClickItem:l,onCloseItem:o,mode:d,value:m,isHideClose:c=!0,instance:h,eventName:u="click",className:p,motionClassName:x="",disabled:f=!1}=e,g=(e=>{let t=(0,n.useRef)();return t.current||(e?t.current=e:t.current=new et),t.current})(h);g.items=a,g.isHideClose=c,g.onClickItem=l,g.onCloseItem=o,g.mode=d,(0,n.useMemo)(()=>{g.state.value=m},[m]);let v=(0,n.useMemo)(()=>(a||[]).map((e,t)=>eo(e,t)),[a]);return(0,r.jsx)(ea.Provider,{value:g,children:(0,r.jsx)(C.P6,{children:(0,r.jsx)(ei,{eventName:u,onOpenChange:i,ref:t,label:s,className:p,disabled:f,motionClassName:x,children:v})})})}),em=()=>{let[e]=V(),t=(0,b.Zp)(),a=e.dropDownTabBarItems,s=(0,b.zy)();return(0,r.jsx)(ed,{items:a,onClickItem:(e,a)=>{a.stopPropagation(),a.preventDefault(),t(e.path)},onCloseItem:(e,t)=>{t.stopPropagation(),t.preventDefault();let a=(0,b.B6)(e.path,s.pathname);$.remove(e.path,!!a)},isHideClose:!1,children:(0,r.jsx)("div",{className:"w-[25px] h-[25px] flex justify-center items-center text-sm/6 font-semibold bg-white dark:bg-gray-600 text-gray-400 hover:text-gray-600 cursor-pointer dark:text-gray-400 dark:hover:text-white",children:(0,r.jsx)("span",{className:"icon-[ant-design--caret-down-outlined]"})})})},ec=()=>{let[e]=V(),t=0===e.dropDownTabBarItems.length;return(0,n.useMemo)(()=>t?(0,r.jsx)(n.Fragment,{}):(0,r.jsx)("div",{className:"h-full  flex items-center justify-center w-[50px]",children:(0,r.jsx)(em,{})}),[t])};var eh=a(2570);class eu{constructor(){(0,o._)(this,"keepAlive",void 0)}}let ep=(0,n.createContext)(new eu),ex=()=>(0,n.useContext)(ep),ef=()=>(G.aliveController=(0,eh.useAliveController)(),U.aliveController=G,(0,r.jsx)(n.Fragment,{})),eg=e=>{let{children:t,keepAlive:a=!0,router:s}=e,i=(e=>{let t=(0,n.useRef)();return t.current||(e?t.current=e:t.current=new eu),t.current})();i.keepAlive=a,s&&!K.__navigate&&(K.router=s,K.__navigate=s.navigate,s.navigate=K.navigate);let l=(0,n.useMemo)(()=>s?(0,r.jsx)(b.pg,{router:s}):t,[t,s]);return a?(0,r.jsx)(ep.Provider,{value:i,children:(0,r.jsxs)(eh.AliveScope,{children:[l,(0,r.jsx)(ef,{})]})}):(0,r.jsx)(ep.Provider,{value:i,children:l})},ev=e=>{let{item:t,currentIndex:a,count:s}=e,l=(0,n.useContext)(H),o=(0,n.useRef)(new X).current;o.item=t;let d=(0,b.Zp)(),m=(0,b.RQ)(t.path),c=t.path;o.isActive=!!m;let h=ex(),[u]=V(),p=u.tabBarItems,x=(0,n.useMemo)(()=>(p||[]).length>1,[p]),f=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_tab_bar_item shrink-0 transition-all duration-300 relative flex flex-row items-center gap-1 px-[20px] py-[10px] cursor-pointer",{active:!!m,"dark:before:bg-gray-600":!0,"text-gray-500 hover:text-gray-500":!!m,"text-gray-400 hover:text-gray-500":!m,"bg-gray-100 hover:bg-gray-200":!m,"bg-white hover:bg-white":!!m,"dark:text-gray-200 dark:hover:text-gray-200":!!m,"dark:text-gray-400 dark:hover:text-gray-300":!m,"dark:bg-gray-800 dark:hover:bg-gray-700":!m,"dark:bg-gray-600 dark:hover:bg-gray-600":!!m}),[m]);(0,n.useEffect)(()=>{let e=l.register(o);return()=>null==e?void 0:e()},[]),(0,n.useEffect)(()=>{m&&o.dom.current&&o.scrollIntoView()},[m,o.dom]);let g=(0,n.useMemo)(()=>(0,i.A)("icon-[ant-design--close-outlined] transition-all duration-300 ml-5 text-gray-400 hover:text-gray-600 dark:hover:text-white",{"dark:text-gray-400":!!m,"dark:text-gray-500":!m}),[m]),v=(0,n.useMemo)(()=>t.icon?(0,r.jsx)("span",{className:"size-[16px] mr-1",children:(0,r.jsx)(ee.In,{icon:t.icon,className:"size-[16px]"})}):(0,r.jsx)(n.Fragment,{}),[t.icon]),_=(0,n.useMemo)(()=>[{icon:"ri:refresh-line",title:"重新加载",visible:!!h.keepAlive},{icon:"ri:close-line",title:"关闭标签",disabled:1===s},{isDivider:!0},{icon:"ant-design:expand-outlined",title:"最大化"},{icon:"ant-design:credit-card-outlined",title:"新窗口打开"},{isDivider:!0},{icon:"mdi:close",title:"关闭其他标签",disabled:1===s},{icon:"mdi:arrow-expand-left",title:"关闭左侧标签",disabled:0===a},{icon:"mdi:arrow-expand-right",title:"关闭右侧标签",disabled:a===s-1}],[a,s]),y=(0,n.useCallback)(e=>{var t,r;if("重新加载"===e.title)null==(r=U.aliveController)||null==(t=r.refreshScope)||t.call(r,c);else if("关闭标签"===e.title)$.remove(c,o.isActive);else if("关闭其他标签"===e.title)$.removeOther(a,o.isActive);else if("关闭左侧标签"===e.title)$.removeLeft(a,o.isActive);else if("关闭右侧标签"===e.title)$.removeRight(a,o.isActive);else if("最大化"===e.title)$.onToggleFullScreen();else if("新窗口打开"===e.title){let e=window.location.href.replace(location.pathname,c);window.open(e,"_blank")}},[a,c,t]);return(0,r.jsx)(ed,{items:_,onClickItem:y,ref:o.dom,eventName:"contextMenu",children:(0,r.jsxs)("div",{className:f,onClick:e=>{e.stopPropagation(),e.preventDefault(),m||(d(t.path),$.addItem(t))},children:[v,(0,r.jsx)("div",{className:"fairys_admin_tab_bar_item_title",children:t.title}),x?(0,r.jsx)("span",{className:g,onClick:e=>{e.stopPropagation(),e.preventDefault(),$.remove(t.path,o.isActive)}}):(0,r.jsx)(n.Fragment,{})]})})},e_=()=>{let[e]=V(),t=e.tabBarItems,a=(0,n.useRef)(new Q).current,s=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_tab_bar transition-all duration-300 overflow-hidden w-full flex flex-row bg-gray-300/25 px-[8px] border-b border-gray-200 dark:border-gray-800 dark:bg-gray-800"),[]),l=(0,b.zy)();(0,n.useEffect)(()=>{$.add(l.pathname)},[l.pathname]);let o=(0,n.useMemo)(()=>{let e=t.length;return t.map((t,a)=>(0,r.jsx)(ev,{count:e,currentIndex:a,item:t},t.path))},[t]);return(0,n.useEffect)(()=>{let e=a.addEventListener();return()=>null==e?void 0:e()},[a.dom]),(0,r.jsx)(H.Provider,{value:a,children:(0,r.jsxs)("div",{className:s,children:[(0,r.jsx)("div",{className:"fairys_admin_tab_bar_left"}),(0,r.jsx)("div",{className:"fairys_admin_tab_bar_body overflow-auto flex flex-row flex-1 no-scrollbar",ref:a.dom,children:o}),(0,r.jsx)("div",{className:"fairys_admin_tab_bar_right flex items-center justify-center",children:(0,r.jsx)(ec,{})})]})})},ey={modal:"fairys_admin_modal_base_overlay absolute top-0 left-0 right-0 bottom-0 flex flex-col items-center no-scrollbar justify-around",drawer:"fairys_admin_drawer_base_overlay absolute top-0 left-0 right-0 bottom-0 flex flex-row justify-end no-scrollbar"},eb={modal:"fairys_admin_modal_base min-w-[400px] min-h-[200px] max-h-[calc(100vh-100px)] rounded-sm bg-white dark:bg-gray-800! border border-gray-200 dark:border-gray-700 shadow-xl inset-shadow-sm relative flex flex-col max-h-[100vh] overflow-hidden",drawer:"fairys_admin_drawer_base_drawer min-w-[400px] min-h-[100vh] rounded-l-sm bg-white dark:bg-gray-800! border border-gray-200 dark:border-gray-700 shadow-xl inset-shadow-sm relative flex flex-col max-h-[100vh] overflow-hidden"},ej={modal:{open:{backgroundColor:"var(--bg-modal,oklch(27.8% 0.033 256.848 /0.5))"},collapsed:{backgroundColor:"transparent"}},drawer:{open:{backgroundColor:"var(--bg-modal,oklch(27.8% 0.033 256.848 /0.5))"},collapsed:{backgroundColor:"transparent"}}},ew={type:"spring",bounce:0,duration:.5},eM={modal:{open:{clipPath:"inset(0% 0% 0% 0% round var(--radius-sm))"},collapsed:{clipPath:"inset(10% 50% 90% 50% round var(--radius-sm))"}},drawer:{open:{clipPath:"inset(0% 0% 0% 0% round var(--radius-sm))"},collapsed:{clipPath:"inset(0% 0% 100% 100% round var(--radius-sm))"}}},eI=e=>{let{title:t,children:a,footer:s,open:l,extra:o,onClose:d,className:m="",headerClassName:c="",titleClassName:h="",bodyClassName:u="",footerClassName:p="",style:x,headerStyle:f,titleStyle:g,bodyStyle:v,footerStyle:_,mode:y="modal",isFullScreen:b}=e,{show:j,onAnimationComplete:w}=k(l);if(!j)return(0,r.jsx)(n.Fragment,{});let N=ey[y]||ey.modal,A=eb[y]||eb.modal,B=ej[y]||ej.modal,E=eM[y]||eM.modal;return(0,r.jsx)(C.XF,{children:(0,r.jsx)(M.N,{mode:"wait",children:(0,r.jsx)(S,{children:(0,r.jsxs)(I.P.div,{className:N,initial:"collapsed",animate:l?"open":"collapsed",variants:B,transition:ew,children:[(0,r.jsxs)(I.P.div,{className:`${A} ${b?"min-w-[100vw]! min-h-[100vh]! p-0!":""} ${m}`,style:x,initial:"collapsed",animate:l?"open":"collapsed",variants:E,transition:ew,onAnimationComplete:w,children:[t||o?(0,r.jsxs)("div",{style:f,className:(0,i.A)("fairys_admin_modal_base_header box-border p-4 relative flex items-center justify-between border-b border-gray-200 dark:border-gray-700 ",c),children:[t?(0,r.jsx)("div",{style:g,className:`fairys_admin_modal_base_header_title font-medium text-lg ${h}`,children:t}):(0,r.jsx)(n.Fragment,{}),o?(0,r.jsx)("div",{className:"fairys_admin_modal_base_header_extra",children:o}):(0,r.jsx)(n.Fragment,{})]}):(0,r.jsx)(n.Fragment,{}),(0,r.jsx)("div",{style:v,className:`fairys_admin_modal_base_content p-4 box-border flex-1 overflow-hidden ${u}`,children:a}),s?(0,r.jsx)("div",{style:_,className:`fairys_admin_modal_base_footer  p-4  box-border border-t border-gray-200 dark:border-gray-700 ${p}`,children:s}):(0,r.jsx)(n.Fragment,{}),d?(0,r.jsx)("span",{className:"fairys_admin_modal_base_close text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 absolute top-4 right-4 size-[16px] cursor-pointer icon-[ant-design--close-outlined]",onClick:d}):(0,r.jsx)(n.Fragment,{})]}),"modal"===y?(0,r.jsx)("div",{"data-empty":!0}):(0,r.jsx)(n.Fragment,{})]})})})})};var ek=a(6674);let eN=e=>{let{rowItemData:t,onClose:a}=e,s=(0,b.Zp)(),i=(0,n.useMemo)(()=>{let e=x._parentMenuItemMap.get(t.path);return(0,r.jsx)(j,{className:"py-0! min-h-[auto]!",itemClassName:"py-0! text-[12px]!",items:e,separate:"slash"})},[t.path]);return(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault(),a(e),s(t.path)},className:"fairys_admin_tool_bar_menu_search_item hover:bg-gray-100 dark:hover:bg-gray-700 hover:*:first:text-(--theme-color) flex items-center flex-row min-h-[70px] transition-all duration-300 border rounded-sm box-border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("div",{className:"w-[65px] flex items-center justify-center icon  transition-all duration-300",children:(0,r.jsx)(ee.In,{icon:t.icon,className:"size-[20px]"})}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)("div",{className:"px-[14px] font-medium text-gray-900 dark:text-gray-300",children:t.title}),(0,r.jsx)("div",{children:i})]})]})},eC=e=>{let[t,a]=f(),s=(0,n.useRef)(),i=t.searchMenuItems||[];return(0,r.jsxs)("div",{className:"flex flex-col gap-2 h-full w-[670px] px-5 py-5 overflow-hidden box-border",children:[(0,r.jsxs)("div",{className:"flex items-center border border-gray-200 dark:border-gray-700 rounded-md ",children:[(0,r.jsx)("div",{className:"pl-4 flex items-center justify-center",children:(0,r.jsx)("span",{className:"icon-[ant-design--search-outlined] size-[26px] text-gray-600 dark:text-gray-200"})}),(0,r.jsx)("input",{placeholder:"搜索菜单",onInput:e=>{clearTimeout(s.current),s.current=setTimeout(()=>{a.onSearch(e.target.value)},500)},className:"flex-1 px-4 py-2 h-[48px] text-[16px] border-0 outline-0"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 overflow-auto flex-1 no-scrollbar",children:[i.map(t=>(0,r.jsx)(eN,{onClose:e.onClose,rowItemData:t},t.path)),0===i.length&&(0,r.jsx)("div",{className:"text-center text-[14px] text-gray-500 flex items-center justify-center min-h-[150px]",children:"暂无搜索结果"})]})]})},eA=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>(e&&(0,ek.A)("esc",e=>{e.preventDefault(),t(!1)}),()=>{ek.A.unbind("esc")}),[e]),(0,n.useEffect)(()=>((0,ek.A)("command+k, ctrl+k",e=>{e.preventDefault(),t(!0)}),()=>{ek.A.unbind("command+k, ctrl+k")}),[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l,{bordered:!0,className:"fairys_admin_tool_bar_menu_search px-4 flex flex-row gap-x-2",onClick:()=>t(!0),children:[(0,r.jsx)("span",{className:"icon-[ant-design--search-outlined] size-[18px] text-gray-600 dark:text-gray-200 transition-all duration-300"}),(0,r.jsx)("span",{className:"text-gray-400",children:"搜索"}),(0,r.jsx)("span",{className:"text-gray-500 bg-gray-100 dark:bg-gray-800 px-2 rounded-sm transition-all duration-300",children:"⌘ K"})]}),(0,r.jsx)(eI,{open:e,onClose:()=>t(!1),children:(0,r.jsx)(eC,{onClose:()=>t(!1)})})]})},eB=()=>{let[e,t]=u(),a=e.theme,s=(0,n.useMemo)(()=>(0,i.A)("size-[16px]",{"icon-[ant-design--moon-outlined]":"dark"!==a,"icon-[ant-design--sun-outlined]":"dark"===a}),[a]);return(0,r.jsx)(l,{className:"fairys_admin_tool_bar_dark_light",onClick:()=>{t.updated({theme:"dark"===a?"light":"dark"}),t.onToggleAutoListenSystemTheme(!1)},children:(0,r.jsx)("span",{className:s})})},eS=()=>(0,r.jsxs)("div",{className:"fairys_admin_tool_bar transition-all duration-300 overflow-hidden w-full flex flex-row items-center px-[8px] border-b border-gray-200 dark:border-gray-800",children:[(0,r.jsx)("div",{className:"fairys_admin_tool_bar_left",children:(0,r.jsx)(w,{})}),(0,r.jsx)("div",{className:"fairys_admin_tool_bar_body overflow-auto flex flex-row flex-1"}),(0,r.jsxs)("div",{className:"fairys_admin_tool_bar_right flex items-center gap-2 dark:text-gray-200 pr-[2px]",children:[(0,r.jsx)(eA,{}),(0,r.jsx)(eB,{})]})]});class eE{constructor(){(0,o._)(this,"open",!1),(0,o._)(this,"onClose",void 0),(0,o._)(this,"onEsc",()=>{if(this.open){let e=this;(0,ek.A)("esc",t=>{var a;t.preventDefault(),null==(a=e.onClose)||a.call(e)})}return()=>{ek.A.unbind("esc")}})}}let eO=e=>{let{open:t,children:a,onClose:s}=e,l=(0,n.useRef)(new eE).current;l.onClose=s,l.open=t;let o=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_full_screen transparent transition-all duration-300 overflow-hidden w-full h-full",{"absolute bg-white dark:bg-gray-800 top-0 left-0 right-0 bottom-0":!!t}),[t]);return(0,n.useEffect)(l.onEsc,[t]),(0,r.jsxs)("div",{className:o,children:[t?(0,r.jsx)("span",{className:"fairys_admin_full_screen_close text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 absolute top-4 right-4 size-[16px] cursor-pointer icon-[ant-design--close-outlined]",onClick:s}):(0,r.jsx)(n.Fragment,{}),a]})},eR=e=>{let t=(0,b.zy)(),[a]=u(),s=a.pageTransitionMode,i=(0,n.useMemo)(()=>Z.getAnimationConfig(s),[s]);return(0,r.jsx)(M.N,{mode:"wait",children:(0,n.createElement)(I.P.div,{...i,className:"w-full h-full overflow-hidden",key:t.pathname},e.children)})},eT=()=>{let e=(0,b.zy)(),t=(0,n.useMemo)(()=>J.convertIdOrNameOne(e.pathname),[e.pathname]);return(0,r.jsx)(eR,{children:(0,r.jsx)(eh.KeepAlive,{name:t,id:t,cacheKey:t,children:(0,r.jsx)(eR,{children:(0,r.jsx)(b.sv,{})})})})},eF=()=>{let e=ex(),[t,a]=V(),s=t.pageFullScreen,i=(0,n.useMemo)(()=>e.keepAlive?(0,r.jsx)(eT,{}):(0,r.jsx)(eR,{children:(0,r.jsx)(b.sv,{})}),[e.keepAlive]);return(0,r.jsx)(n.Fragment,{children:(0,r.jsx)(eO,{open:s,onClose:a.onToggleFullScreen,children:i})})},eL=()=>(0,r.jsxs)("div",{className:"fairys_admin_main_content overflow-hidden flex flex-col w-full h-full",children:[(0,r.jsxs)("div",{className:"fairys_admin_main_content_header w-full overflow-hidden sticky top-0 shadow-[var(--fairys-box-shadow)]",children:[(0,r.jsx)(eS,{}),(0,r.jsx)(e_,{})]}),(0,r.jsx)("div",{className:"fairys_admin_main_content_body overflow-hidden flex-1 w-full",children:(0,r.jsx)(eF,{})})]}),ez="fairys_admin_menu_item shrink-0 transition-all duration-300 rounded-sm h-[36px] box-border flex items-center justify-between cursor-pointer gap-1 dark:text-gray-400 px-[14px]",eD="fairys_admin_menu_item_title flex flex-1 items-center justify-center overflow-hidden gap-1",eP="fairys_admin_menu_item_title_text flex-1 text-ellipsis overflow-hidden whitespace-nowrap",eK=(0,n.forwardRef)((e,t)=>{let{item:a}=e,[s]=y(),l=s.menuModeExpandCollapse,o=(0,b.zy)(),d=(0,n.useMemo)(()=>"close"===l&&x.isParentMenuItem(a.path,o.pathname),[o.pathname,l]),m=(0,n.useMemo)(()=>(0,i.A)(ez,["text-gray-400","dark:text-gray-600"],{"bg-(--theme-color)":!!d,"text-white dark:text-white":!!d}),[d]),c=(0,n.useMemo)(()=>a.icon?(0,r.jsx)("span",{className:"size-[16px]",children:(0,r.jsx)(ee.In,{icon:a.icon,className:"size-[16px]"})}):(0,r.jsx)(n.Fragment,{}),[a.icon]);return(0,r.jsx)("div",{className:m,ref:t,onClick:e=>{"close"===l&&(x.onToggleItems(a.path),x.updateMainExpandItem(a))},children:(0,r.jsxs)("div",{className:eD,title:a.title,children:[c,"open"===l?(0,r.jsx)("span",{className:eP,children:a.title}):(0,r.jsx)(n.Fragment,{})]})})}),e$=(0,n.forwardRef)((e,t)=>{let{item:a,level:s=0,isSubMenu:l=!1,isExpand:o=!1}=e,d=(0,b.RQ)(a.path),m=(0,b.Zp)(),[c,h]=y(),u=(0,n.useRef)(new g).current,p=(0,b.zy)();u.item=a,u.isSubMenu=l,u.isActive=!!d,(0,n.useImperativeHandle)(t,()=>u.dom.current);let f=c.menuModeExpandCollapse,v=(0,n.useMemo)(()=>"close"===f&&0===s?x.isParentMenuItem(a.path,p.pathname):!!d,[p.pathname,f,d]),_=(0,n.useMemo)(()=>"close"!==f||(0!==s||"close"!==f)&&s>0,[f,s]),j=(0,n.useMemo)(()=>(0,i.A)(ez,{[`data-level=${s}`]:!0,active:!!v,"bg-(--theme-color)":!!v,"text-white dark:text-white":!!v,"hover:bg-gray-200/75 dark:hover:bg-gray-600":!v}),[v,s]),w=(0,n.useMemo)(()=>"close"===f?{}:{paddingLeft:`${20*s}px`},[s,f]),M=e=>{l?x.onToggleItems(a.path):d||(m(a.path),$.addItem(a),x.updateMainExpandItem(void 0))},I=(0,n.useMemo)(()=>(0,i.A)("relative ms-1 w-[10px] after:bg-current before:bg-current after:-translate-y-[1px] before:-translate-y-[1px]",{expand:o,close:!o}),[o]),k=(0,n.useMemo)(()=>(0,i.A)("size-[16px]",{}),[_]);(0,n.useEffect)(()=>{let e=h.register(u);return()=>e()},[u]),(0,n.useEffect)(()=>{v&&u.dom.current&&u.scrollIntoView()},[v,u.dom]);let N=(0,n.useMemo)(()=>a.icon?(0,r.jsx)("span",{className:k,children:(0,r.jsx)(ee.In,{icon:a.icon,className:k})}):(0,r.jsx)(n.Fragment,{}),[k,a.icon]);return(0,n.useMemo)(()=>(0,r.jsxs)("div",{ref:u.dom,"data-level":s,title:a.title,className:j,onClick:M,children:[(0,r.jsxs)("div",{className:eD,style:w,children:[N,_?(0,r.jsx)("span",{className:eP,children:a.title}):(0,r.jsx)(n.Fragment,{})]}),_?(0,r.jsx)("div",{className:"fairys_admin_menu_item_extra fairys_admin_down_up_icon",children:l?(0,r.jsx)("div",{className:I}):(0,r.jsx)(n.Fragment,{})}):(0,r.jsx)(n.Fragment,{})]}),[N,_,l,s,j,eD,w,I,eP])}),eV="fairys_admin_sub_menu shrink-0 flex flex-col gap-y-[2px] ",eX=e=>{let{item:t,level:a=0,isMain:s=!1}=e,[i]=f(),l=i.expandItems,o=i.mainExpandItem,[d]=u(),m=d.sideMenuMode,c=(0,n.useMemo)(()=>s?(null==o?void 0:o.path)===t.path:!!l.find(e=>e.path===t.path),[l,t.path,s,o]),h=(0,n.useMemo)(()=>{var e;return null==(e=t.children)?void 0:e.map(e=>Array.isArray(e.children)?(0,r.jsx)(eX,{item:e,level:a+1},e.path):(0,r.jsx)(e$,{item:e,level:a+1},e.path))},[t.children,a,s]);return(0,n.useMemo)(()=>"close"!==m?(0,r.jsxs)("div",{className:eV,children:[s?(0,r.jsx)(eK,{item:t}):(0,r.jsx)(e$,{item:t,level:a,isSubMenu:!0,isExpand:c}),(0,r.jsx)(N,{open:!!s||c,className:"fairys_admin_sub_menu_body shrink-0 flex flex-col gap-y-[2px]",children:h})]}):(0,r.jsx)("div",{className:eV,children:(0,r.jsx)(P,{className:"fairys_admin_sub_menu_popover",onOpenChange:e=>{!1===e&&(x.clearExpandItems(),x.updateMainExpandItem(void 0))},open:c,content:(0,r.jsx)("div",{className:"fairys_admin_sub_menu_body shrink-0 flex flex-col gap-y-[2px] p-[5px] dark:border dark:border-gray-700",children:h}),children:s?(0,r.jsx)(eK,{item:t}):(0,r.jsx)(e$,{item:t,level:a,isSubMenu:!0,isExpand:c})})}),[h,s,c,t,a,m])},eQ=(e,t)=>Array.isArray(e.children)?(0,r.jsx)(eX,{item:e,level:t},e.path):(0,r.jsx)(e$,{item:e,level:t},e.path),eH=()=>{let[e,t]=f(),a=e.menuItems,s=(0,n.useRef)(new v).current,[i]=u(),l=i.sideMenuMode,o=i.layoutMode,d=(0,n.useMemo)(()=>["left","mobile","left_header"].includes(o),[o]),m=(0,n.useMemo)(()=>{if(d){let e=t._menuItems||[],a=!1;return e.map(e=>{let t=e.children||[];if(e.isMain){var s;if(a)return(0,r.jsx)(eX,{item:e,isMain:!0},e.path);a=!0;let i=t.map(e=>eQ(e,s));return(0,r.jsx)(n.Fragment,{children:i},e.path)}return eQ(e)})}return a.map(e=>eQ(e))},[a,d]);return(0,n.useEffect)(()=>{let e=s.addEventListener();return()=>e()},[s.dom]),(0,n.useEffect)(()=>{["main_top_header"].includes(o)?s.setMenuModeExpandCollapse("open"):s.setMenuModeExpandCollapse(l)},[l,o]),(0,n.useMemo)(()=>(0,r.jsx)(_.Provider,{value:s,children:(0,r.jsx)("div",{ref:s.dom,className:"fairys_admin_menu transition-all duration-300 box-border flex flex-col gap-y-2 p-[8px] overflow-auto h-full no-scrollbar max-w-[220px]",children:m})}),[m,s])},eq=(0,n.forwardRef)((e,t)=>{let{mode:a,nameMode:s,className:l,...o}=e,[d]=(()=>{let e=(0,m.s)(q.state);return[e,q,e.__defaultValue]})(),c=d.userName||"fairys",u=(0,b.Zp)(),p=(0,n.useMemo)(()=>{let e=d.userAvatar||h.state.logo;return e?(0,r.jsx)("img",{className:"rounded-full w-[32px] h-[32px] object-cover",src:e,alt:c}):c},[d.userAvatar,c]),x=(0,n.useMemo)(()=>(0,i.A)("flex transition-all duration-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md cursor-pointer",l,{"p-[2px] items-center justify-center mr-2":"header"===a,"p-[4px] mx-[8px] my-[8px] bg-gray-200 dark:bg-gray-700":"sider"===a,"px-[14px] ":"sider"===a&&"show"===s,"items-center gap-4":"show"===s,"items-center justify-center":"node"===s}),[a,l,s]),f=(0,n.useMemo)(()=>[{title:"主页"},{title:"偏好设置"},{isDivider:!0},{title:"退出登录"}],[]);return(0,r.jsx)(ed,{items:f,onClickItem:e=>{var t;"主页"===e.title?u("/"):"偏好设置"===e.title?h.onToggleOpen():"退出登录"===e.title&&(null==(t=W._onLogout)||t.call(W))},ref:t,children:(0,r.jsxs)("div",{...o,title:c,className:x,children:[(0,r.jsx)("span",{className:"flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700",children:p}),"show"===s?(0,r.jsx)("span",{className:"text-[14px] font-medium text-gray-900 dark:text-gray-400",children:c}):(0,r.jsx)(n.Fragment,{})]})})}),eZ=e=>{let{mode:t,className:a,logoSize:s=32,isOnlyName:l=!1,isHeader:o=!1,...d}=e,m=(0,b.Zp)(),[c]=u(),h=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_logo flex items-center",a,{"justify-center":"close"===t||l,"gap-2":"open"===t,"min-h-[32px]":l,"ml-2":o}),[t,a,l]),p=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_logo_name px-2 box-border flex-1 cursor-pointer whitespace-nowrap overflow-hidden text-ellipsis",{"min-w-[165px]":o}),[o]);return(0,r.jsxs)("div",{...d,className:h,children:[l?(0,r.jsx)(n.Fragment,{}):(0,r.jsx)("div",{className:"flex items-center justify-center cursor-pointer",children:(0,r.jsx)("img",{width:s,height:s,src:c.logo,alt:c.projectName,onClick:()=>{m("/")}})}),"open"===t||l?(0,r.jsx)("div",{title:c.projectName,className:p,children:c.projectName}):(0,r.jsx)(n.Fragment,{})]})},eY=e=>{let{item:t,layoutMode:a}=e,s=(0,b.zy)(),[l,o]=f(),d=l.mainMenuItemSelected,m=l.mainExpandItem,c=d===t.path,[h]=u(),p=h.layoutMode,g=z(),v=(0,n.useMemo)(()=>(null==m?void 0:m.path)===t.path,[m,t]),_=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_main_menu_item transition-all duration-300 px-[8px] py-[4px] shrink-0 transition-all duration-300 rounded-sm box-border flex items-center cursor-pointer gap-1 dark:text-gray-400",{active:c,"bg-(--theme-color)":!!c,"text-white dark:text-white":c,"hover:bg-gray-200/75 dark:hover:bg-gray-600":!c,"flex-col ":"vertical"===a,"flex-row":"horizontal"===a}),[c,a]),y=()=>{o.updateMainExpandItem(t),c||(x.onExpandItems(s.pathname),o.onMainMenu(t.path))},j=(0,n.useMemo)(()=>(0,i.A)("",{"size-[20px]":"horizontal"===a,"size-[26px]":"vertical"===a}),[a]),w=(0,n.useMemo)(()=>(0,r.jsxs)("div",{className:_,onClick:y,title:t.title,children:[t.icon?(0,r.jsx)("span",{className:j,children:(0,r.jsx)(ee.In,{icon:t.icon,className:j})}):(0,r.jsx)(n.Fragment,{}),(0,r.jsx)("div",{children:t.title})]}),[_,j,t,y]);return["main_top_header","main_left"].includes(p)?(0,r.jsx)(P,{className:"fairys_admin_main_menu_popover",placement:"vertical"===a?"right-start":"bottom-start",open:v,content:(0,r.jsx)(eH,{}),popoverInstance:g,onOpenChange:e=>{!1===e&&x.updateMainExpandItem(void 0)},children:w}):w},eU=e=>{let{layoutMode:t}=e,[a]=f(),s=a.mainMenuItems||[];return(0,n.useMemo)(()=>s.map(e=>(0,r.jsx)(eY,{layoutMode:t,item:e},e.path)),[s,t])},eJ=e=>{let{layoutMode:t}=e,[a]=u(),s=a.layoutMode,l=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_main_menu flex box-border overflow-auto items-center justify-between px-[8px]",{"fairys_admin_main_menu_vertical flex-col h-full":"vertical"===t,"fairys_admin_main_menu_horizontal flex-row overflow-auto shrink-0":"horizontal"===t}),[t]),o=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_main_menu_body flex-1 w-full overflow-hidden flex gap-2 items-center box-border py-[8px]",{"flex-col ":"vertical"===t,"flex-row":"horizontal"===t}),[t]),d=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_main_menu_body_menus flex",{"flex-col gap-y-2  w-full":"vertical"===t,"flex-row flex-1 gap-x-2":"horizontal"===t}),[t]);return(0,r.jsxs)("div",{className:l,children:[(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)(eZ,{isHeader:"horizontal"===t,logoSize:"horizontal"===t?32:48,mode:"horizontal"===t?"open":"close"}),"left_header"===s?(0,r.jsx)(n.Fragment,{}):(0,r.jsx)("div",{className:d,children:(0,r.jsx)(eU,{layoutMode:t})})]}),(0,r.jsx)("div",{className:"fairys_admin_main_menu_extra",children:(0,r.jsx)(eq,{mode:"horizontal"===t?"header":"sider"})})]})},eG=()=>{let[e]=u(),t=e.theme,a=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_layout_header transition-all duration-300 h-[48px] border-b border-gray-200 dark:border-gray-800 dark:bg-gray-900!",{[t]:!0}),[t]);return(0,r.jsx)(E,{darkMode:"dark"===t,children:(0,r.jsx)("div",{className:a,children:(0,r.jsx)(eJ,{layoutMode:"horizontal"})})})},eW=()=>{let[e]=u(),t=e.layoutMode;return(0,n.useMemo)(()=>["main_sub_left","main_left"].includes(t),[t])?(0,r.jsx)("div",{className:"border-r border-gray-200 h-full dark:border-gray-800! transition-all duration-300 w-[80px] overflow-hidden",children:(0,r.jsx)(eJ,{layoutMode:"vertical"})}):(0,r.jsx)(n.Fragment,{})},e0=()=>{let[e,t]=u(),a=e.sideMenuMode,s=e.layoutMode,o=(0,n.useMemo)(()=>(0,i.A)("flex flex-col h-full border-r border-gray-200 dark:border-gray-800! transition-all duration-300 dark:text-gray-400 overflow-hidden",{"w-[60px]":"close"===a,"w-[220px]":"close"!==a}),[a]),d=(0,n.useMemo)(()=>"left"===s?(0,r.jsx)(eq,{mode:"sider",nameMode:"open"===a?"show":"node"}):(0,r.jsx)(n.Fragment,{}),[a]),m=(0,n.useMemo)(()=>(0,i.A)("size-[20px]",{"icon-[ant-design--menu-fold-outlined]":"open"===a,"icon-[ant-design--menu-unfold-outlined]":"close"===a}),[a]),c=(0,n.useMemo)(()=>"main_sub_left"===s||"left"===s?(0,r.jsx)("div",{className:"box-border border-b border-gray-200 dark:border-gray-800",children:(0,r.jsx)(eZ,{isOnlyName:"main_sub_left"===s,logoSize:32,className:"mx-[8px] my-[8px] box-border",mode:"open"===a?"open":"close"})}):(0,r.jsx)(n.Fragment,{}),[s,a]);return(0,r.jsxs)("div",{className:o,children:[c,(0,r.jsx)("div",{className:"fairys_admin_layout_sider_menu flex-1 overflow-hidden",children:(0,r.jsx)(eH,{})}),(0,r.jsxs)("div",{className:"flex flex-col border-t border-gray-200 dark:border-gray-800 ",children:[(0,r.jsx)("div",{className:`flex ${"close"===a?"justify-center":"justify-end"} ${"left"===s?" mt-[8px]":"my-[8px]"} items-center box-border mx-[8px] cursor-pointer`,children:(0,r.jsx)(l,{title:"close"===a?"打开菜单":"关闭菜单",isBg:!0,onClick:()=>{t.updated({sideMenuMode:"close"===a?"open":"close"})},children:(0,r.jsx)("span",{className:m})})}),d]})]})},e1=()=>{let[e]=u(),t=e.layoutMode,a=e.darkMenu,s=e.theme,l=a||"dark"===s,o=(0,n.useMemo)(()=>["main_left"].includes(t),[t]),d=(0,n.useMemo)(()=>o?(0,r.jsx)(n.Fragment,{}):(0,r.jsx)(e0,{}),[o]),m=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_layout_sider transition-all duration-300 flex flex-row h-full dark:text-gray-400 dark:bg-gray-900!",{dark:l}),[l]);return(0,r.jsx)(E,{darkMode:l,children:(0,r.jsxs)("div",{className:m,children:[(0,r.jsx)(eW,{}),d]})})},e2=e=>{let{label:t,children:a,className:s,isDivider:l,...o}=e,d=(0,n.useMemo)(()=>l?(0,r.jsx)("div",{className:(0,i.A)("my-4 w-full flex items-center justify-center whitespace-nowrap text-[14px] font-medium gap-4",["after:h-px after:w-full after:min-w-4 after:border-b after:border-gray-200 dark:after:border-gray-600  after:content-empty","before:h-px before:w-full before:min-w-4 before:border-b before:border-gray-200 dark:before:border-gray-600  before:content-empty"]),children:t}):(0,r.jsx)("div",{className:"font-medium text-[14px]",children:t}),[l]),m=(0,n.useMemo)(()=>(0,i.A)("w-full flex justify-between items-center min-h-[36px] pb-4",s,{"flex-col":l}),[s,l]),c=(0,n.useMemo)(()=>(0,i.A)("",{"w-full flex items-center justify-center":l,"w-auto":!l}),[l]);return(0,r.jsxs)("div",{...o,className:m,children:[d,(0,r.jsx)("div",{className:c,children:a})]})},e5=()=>{let[e,t]=u(),a=e.theme,s=e.autoListenSystemTheme,i=(0,n.useMemo)(()=>{let e={dark:!1,light:!1,system:!1};return s?e.system=!0:e[a]=!0,e},[a,s]);return(0,r.jsx)(e2,{isDivider:!0,label:"主题风格",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)(l,{className:"w-[80px]",bordered:!0,isBg:i.dark,onClick:()=>t.onToggleTheme("dark"),children:[(0,r.jsx)("span",{className:"icon-[ri--moon-line] text-[18px]"}),(0,r.jsx)("span",{className:"text-[14px] pl-2",children:"暗黑"})]}),(0,r.jsxs)(l,{className:"w-[80px]",bordered:!0,isBg:i.light,onClick:()=>t.onToggleTheme("light"),children:[(0,r.jsx)("span",{className:"icon-[ri--sun-line] text-[18px]"}),(0,r.jsx)("span",{className:"text-[14px] pl-2",children:"亮色"})]}),(0,r.jsxs)(l,{className:"w-[80px]",bordered:!0,isBg:i.system,onClick:()=>t.onToggleTheme("system"),children:[(0,r.jsx)("span",{className:"icon-[codicon--color-mode] text-[18px]"}),(0,r.jsx)("span",{className:"text-[14px] pl-2",children:"系统"})]})]})})},e4=e=>{let{items:t=[],onChange:a,multiple:s=!1,value:l,disabled:o=!1}=e,[d,m]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>(0,i.A)("relative after:bg-current before:bg-current after:-translate-y-[1px] before:-translate-y-[1px]",{expand:d,close:!d}),[d]),h=(0,n.useMemo)(()=>{var e;return Array.isArray(l)&&l.length||!l?"请选择":s&&Array.isArray(l)?(l||[]).map(e=>{let a=t.find(t=>t.value===e);return null==a?void 0:a.title}).join(","):null==(e=t.find(e=>e.value===l))?void 0:e.title},[l,t,s]);return(0,r.jsx)(ed,{disabled:o,items:t,onOpenChange:e=>m(e),onClickItem:e=>{s?Array.isArray(l)?(l||[]).find(t=>t===e.value)?null==a||a(l.filter(t=>t!==e.value)):null==a||a(l.concat([e.value])):null==a||a([e.value]):null==a||a(e.value)},value:l,children:(0,r.jsxs)("div",{className:"min-w-[120px] min-h-[38px] px-[12px] py-[4px] border border-gray-200 dark:border-gray-700 rounded-sm cursor-pointer flex flex-row justify-between items-center",children:[(0,r.jsx)("span",{children:h}),(0,r.jsx)("span",{className:"fairys_admin_down_up_icon size-[16px] flex items-center justify-center relative",children:(0,r.jsx)("div",{className:c})})]})})},e3=()=>{let[e,t]=u();return(0,r.jsx)(e2,{label:"布局模式",children:(0,r.jsx)(e4,{value:e.layoutMode,items:[{title:"主子菜单侧边",value:"main_sub_left"},{title:"主菜单左侧+点击主展示子菜单",value:"main_left"},{title:"主菜单顶部+点击主展示子菜单",value:"main_top_header"},{title:"主菜单顶部+子菜单侧边",value:"main_top_sub_left_header"},{title:"主子菜单合并侧边展示",value:"left"},{title:"主子菜单合并侧边展示+顶部信息",value:"left_header"},{title:"移动",value:"mobile",disabled:!0}],onChange:e=>t.updated({layoutMode:e})})})},e8=()=>{let[e,t]=u(),a=(0,n.useMemo)(()=>(Z.state||[]).map(e=>({title:e.name,value:e.name})),[]);return(0,r.jsx)(e2,{label:"页面切换模式",children:(0,r.jsx)(e4,{value:e.pageTransitionMode,items:a,onChange:e=>t.updated({pageTransitionMode:e})})})},e6=()=>{let[e,t]=u();return(0,n.useEffect)(()=>(e.open&&(0,ek.A)("esc",e=>{e.preventDefault(),t.onToggleOpen()}),()=>{ek.A.unbind("esc")}),[e.open]),(0,r.jsx)(eI,{onClose:t.onToggleOpen,open:e.open,title:"偏好设置",mode:"drawer",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 box-border",children:[(0,r.jsx)(e5,{}),(0,r.jsx)(e3,{}),(0,r.jsx)(e8,{})]})})},e7=[{title:"主菜单",path:"main-menu",isMain:!0,icon:"ant-design:home-outlined",children:[{title:"首页",path:"/",icon:"ant-design:home-outlined"},{title:"列表",path:"/list",icon:"ant-design:unordered-list",children:[{title:"列表-1",path:"/list1-1",icon:"ant-design:unordered-list"},{title:"列表-1-1",path:"/list1-1-1",icon:"ant-design:unordered-list",children:[{title:"列表-1-1-1",path:"/list1-1-1-1",icon:"ant-design:unordered-list"},{title:"列表-1-1-1-1",path:"/list1-1-1-1-1",icon:"ant-design:unordered-list"}]}]},{title:"列表2列表2列表2列表2列表2列表2列表2列表2列表2",path:"/list2",icon:"ant-design:unordered-list",children:[{title:"列表2-1",path:"/list2-1",icon:"ant-design:unordered-list"},{title:"列表2-1-1",path:"/list2-1-1",icon:"ant-design:unordered-list",children:[{title:"列表2-1-1-1",path:"/list2-1-1-1",icon:"ant-design:unordered-list"},{title:"列表2-1-1-1-1",path:"/list2-1-1-1-1",icon:"ant-design:unordered-list"}]}]},{title:"列表3",path:"/list3",icon:"ant-design:unordered-list"},{title:"列表4",path:"/list4",icon:"ant-design:unordered-list"},{title:"列表5",path:"/list5",icon:"ant-design:unordered-list"},{title:"列表6",path:"/list6",icon:"ant-design:unordered-list"},{title:"列表7",path:"/list7",icon:"ant-design:unordered-list"},{title:"列表8",path:"/list8",icon:"ant-design:unordered-list"},{title:"列表9",path:"/list9",icon:"ant-design:unordered-list"},{title:"列表10",path:"/list10",icon:"ant-design:unordered-list"},{title:"列表11",path:"/list11",icon:"ant-design:unordered-list"},{title:"列表12",path:"/list12",icon:"ant-design:unordered-list"},{title:"详情",path:"/detail",icon:"ant-design:info-circle-outlined"}]},{title:"哈哈2",path:"main-menu2",isMain:!0,icon:"ant-design:home-outlined",children:[{title:"首页2",path:"/main-menu2/home",icon:"ant-design:home-outlined"},{title:"详情2",path:"/main-menu2/detail",icon:"ant-design:info-circle-outlined"},{title:"列表10",path:"/main-menu2/list2",icon:"ant-design:unordered-list",children:[{title:"列表2-1",path:"/main-menu2/list2-1",icon:"ant-design:unordered-list"},{title:"列表2-1-1",path:"/main-menu2/list2-1-1",icon:"ant-design:unordered-list",children:[{title:"列表2-1-1-1",path:"/main-menu2/list2-1-1-1",icon:"ant-design:unordered-list"},{title:"列表2-1-1-1-1",path:"/main-menu2/list2-1-1-1-1",icon:"ant-design:unordered-list"}]}]}]}],e9=[{path:"/",Component:()=>{let[e]=u(),t=e.layoutMode,a=e.sideMenuMode,s=e.theme,l=(0,b.zy)();(0,n.useMemo)(()=>{x.updateChildMenus(l.pathname),"close"!==a?x.onExpandItems(l.pathname):x.clearExpandItems()},[l.pathname,a]);let o=(0,n.useMemo)(()=>["main_top_header","main_top_sub_left_header","left_header"].includes(`${t}`),[t]),d=(0,n.useMemo)(()=>["main_sub_left","main_left","left","main_top_sub_left_header","left_header"].includes(`${t}`),[t]),m=(0,n.useMemo)(()=>["main_sub_left","main_left","left"].includes(`${t}`),[t]),c=(0,n.useMemo)(()=>(0,i.A)("fairys_admin_layout transition-all duration-300 overflow-hidden w-full h-full flex box-border ",{[`fairys_admin_layout_${t}`]:!!t,"flex-col":!m,"flex-row":m,[s]:!0}),[t,m,s]),h=(0,n.useMemo)(()=>o?(0,r.jsx)(eG,{}):null,[o]),p=(0,n.useMemo)(()=>d?(0,r.jsx)(e1,{}):null,[d]),f=(0,n.useMemo)(()=>(0,r.jsx)(eL,{}),[]);return(0,r.jsxs)(E,{darkMode:"dark"===s,children:[(0,r.jsx)("div",{className:c,children:m?(0,r.jsxs)(n.Fragment,{children:[d?(0,r.jsx)("div",{className:"fairys_admin_layout_sider overflow-hidden h-full box-border ",children:p}):(0,r.jsx)(n.Fragment,{}),(0,r.jsxs)("div",{className:"fairys_admin_layout_main overflow-hidden flex flex-col flex-1 h-full box-border",children:[o?(0,r.jsx)("div",{className:"fairys_admin_layout_main_header overflow-hidden w-full box-border",children:h}):(0,r.jsx)(n.Fragment,{}),(0,r.jsx)("div",{className:"fairys_admin_layout_main_content overflow-hiddenflex-1 w-full box-border",children:f})]})]}):(0,r.jsxs)(n.Fragment,{children:[o?(0,r.jsx)("div",{className:"fairys_admin_layout_header overflow-hidden w-full box-border ",children:h}):(0,r.jsx)(n.Fragment,{}),(0,r.jsxs)("div",{className:"fairys_admin_layout_main overflow-hidden flex flex-row flex-1 w-full box-border",children:[d?(0,r.jsx)("div",{className:"fairys_admin_layout_main_sider overflow-hidden h-full box-border",children:p}):(0,r.jsx)(n.Fragment,{}),(0,r.jsx)("div",{className:"fairys_admin_layout_main_content overflow-hidden flex-1 h-full box-border",children:f})]})]})}),(0,r.jsx)(e6,{})]})},children:[{index:!0,path:"/",Component:()=>(console.log(K),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{}),(0,r.jsx)(b.k2,{to:"/",children:"首页"}),(0,r.jsx)(b.k2,{to:"/list",children:"列表"}),(0,r.jsx)(b.k2,{to:"/detail",children:"详情"})]}))},{path:"/list",Component:()=>(0,r.jsxs)("div",{children:["List",(0,r.jsx)("input",{})]})},{path:"/detail",Component:()=>(0,r.jsxs)("div",{children:["detail",(0,r.jsx)("input",{})]})},{path:"*",element:(0,r.jsx)("div",{children:"404"})}]}],te=e=>{let[t,a]=(0,n.useState)(!1);return(0,r.jsxs)("div",{children:[t&&(0,r.jsx)("div",{children:"加载中..."}),(0,r.jsx)("button",{onClick:()=>{a(!0),new Promise(e=>{setTimeout(()=>{e(!0)},5e3)}).then(()=>{console.log("登录成功"),e.onLogin()}).finally(()=>{a(!1)})},disabled:t,children:"登录"})]})},tt=()=>(0,r.jsx)("div",{children:"进入 loading 状态"}),ta=a.p+"static/image/logo.32924cdd.png";h.initSetting({logo:ta,projectName:"Fairys Admin",themeColor:"rgba(175, 82, 222, 1)"});let tr=document.getElementById("root");tr&&s.createRoot(tr).render((0,r.jsx)(()=>{(0,n.useMemo)(()=>{let e=localStorage.getItem("token");W.updatedStatus(e?"RequestAuth":"Login")},[]);let[e]=(()=>{let e=(0,m.s)(W.state);return[e,W,e.__defaultValue]})(),t=e.status,a=()=>{W.updatedStatus("RequestAuth"),new Promise(e=>{setTimeout(()=>{e(!0)},1e3)}).then(()=>{localStorage.setItem("token","123"),x.ctor(e7),q.updated({userName:"fairys",userAvatar:"https://gravatar.com/userimage/233185585/f004e2e1534508a34caef161ef76d9f2.jpeg?size=256"}),K.createBrowserRouter(e9),W.updatedStatus("Auth")})};return((0,n.useEffect)(()=>{"RequestAuth"===t&&a()},[]),"Login"===t)?(0,r.jsx)(te,{onLogin:a}):"RequestAuth"===t?(0,r.jsx)(tt,{}):"NoAuth"===t?(0,r.jsx)("div",{children:"NoAuth"}):(0,r.jsx)(eg,{router:K.router,keepAlive:!0})},{}))}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,a),i.exports}a.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(r,s){if(1&s&&(r=this(r)),8&s||"object"==typeof r&&r&&(4&s&&r.__esModule||16&s&&"function"==typeof r.then))return r;var i=Object.create(null);a.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>{n[e]=()=>r[e]});return n.default=()=>r,a.d(i,n),i}})(),a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];a.O=(t,r,s,i)=>{if(r){i=i||0;for(var n=e.length;n>0&&e[n-1][2]>i;n--)e[n]=e[n-1];e[n]=[r,s,i];return}for(var l=1/0,n=0;n<e.length;n++){for(var[r,s,i]=e[n],o=!0,d=0;d<r.length;d++)(!1&i||l>=i)&&Object.keys(a.O).every(e=>a.O[e](r[d]))?r.splice(d--,1):(o=!1,i<l&&(l=i));if(o){e.splice(n--,1);var m=s();void 0!==m&&(t=m)}}return t}})(),a.p="/fairys-admin-react/",(()=>{var e={410:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var s,i,[n,l,o]=r,d=0;if(n.some(t=>0!==e[t])){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(o)var m=o(a)}for(t&&t(r);d<n.length;d++)i=n[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(m)},r=self.webpackChunkexample=self.webpackChunkexample||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,["783","535","517"],function(){return a(2655)});r=a.O(r)})();